<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
  <link rel="mask-icon" href="/images/favicon.png" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pace/1.0.2/themes/blue/pace-theme-minimal.min.css">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"atc96.top","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":280,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":true,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":true,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ASP.NET知识点 第一章 ASP.NET简介 第二章 ASP.NET中的控件 1. 控件分类 2. 页面回发 3. 常用控件 1. Label控件 2. TextBox控件 3. Image控件 4. HyperLink控件 5. RadioButton控件 6. CheckBox控件 7. 列表控件 8. HiddenField控件   4. 服务器控件的客户端事件处理 5. 总结">
<meta property="og:type" content="article">
<meta property="og:title" content="ASP.NET知识点">
<meta property="og:url" content="https://atc96.top/ASP.NET_PPT/index.html">
<meta property="og:site_name" content="Rex_Surprise">
<meta property="og:description" content="ASP.NET知识点 第一章 ASP.NET简介 第二章 ASP.NET中的控件 1. 控件分类 2. 页面回发 3. 常用控件 1. Label控件 2. TextBox控件 3. Image控件 4. HyperLink控件 5. RadioButton控件 6. CheckBox控件 7. 列表控件 8. HiddenField控件   4. 服务器控件的客户端事件处理 5. 总结">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605145033897.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605144902385.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605145844340.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605145933161.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605150645780.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605150756891.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605150907140.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605151016530.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605151108803.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605151209330.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605151415025.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605151516095.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605151723970.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605152905903.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605152919140.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605153610264.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605153622327.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605153840432.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605153939031.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605154019533.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605155023709.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605155327316.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605160354899.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605160552154.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605161254380.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605161304645.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605161314204.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605161323733.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605161335829.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605161645380.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162207745.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162213593.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162220310.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162529603.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162804727.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162815286.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162915767.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605162921036.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605163220887.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605163419874.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605163520957.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605163638176.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605163742083.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605163840923.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605163857491.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605164032977.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605164108865.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605164317743.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200605164520867.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606141116078.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606150626663.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606150903125.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606150955884.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151125439.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151313165.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151323986.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151335417.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151410977.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151508353.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151519570.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606151658311.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606152234148.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606152455870.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606152759530.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606153936393.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606153945726.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200606153955806.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103405648.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103525824.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103615066.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103620533.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103625290.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103631240.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103931004.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617103949948.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617104046705.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617104137248.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617104241059.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617104258110.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617104337004.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617104423716.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617104857815.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617105042535.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617105425454.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617105625790.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617105703069.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617105710452.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617105826213.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617105911612.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617110043849.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617110204329.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617110336449.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617110437096.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617110625845.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617110752130.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617110909364.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617111506986.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617111525702.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617111646414.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617111837221.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617111928032.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617112017846.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617112205956.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617112517116.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617112553796.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617112613421.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617112710962.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617112828793.png">
<meta property="og:image" content="https://atc96.top/images/mdImages/image-20200617113000123.png">
<meta property="article:published_time" content="2020-06-27T10:39:42.000Z">
<meta property="article:modified_time" content="2020-06-27T10:36:54.232Z">
<meta property="article:author" content="Rex_Surprise">
<meta property="article:tag" content="ASP.NET">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://atc96.top/images/mdImages/image-20200605145033897.png">

<link rel="canonical" href="https://atc96.top/ASP.NET_PPT/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>ASP.NET知识点 | Rex_Surprise</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Rex_Surprise" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Rex_Surprise</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Welcome to rexSurprise!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/rexSurprise" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://atc96.top/ASP.NET_PPT/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Rex_Surprise">
      <meta itemprop="description" content="Rex_Surprise的个人博客~">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Rex_Surprise">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          ASP.NET知识点
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-06-27 18:39:42 / 修改时间：18:36:54" itemprop="dateCreated datePublished" datetime="2020-06-27T18:39:42+08:00">2020-06-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ASP-NET/" itemprop="url" rel="index"><span itemprop="name">ASP.NET</span></a>
                </span>
            </span>

          
            <span id="/ASP.NET_PPT/" class="post-meta-item leancloud_visitors" data-flag-title="ASP.NET知识点" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/ASP.NET_PPT/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/ASP.NET_PPT/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <!-- toc -->

<ul>
<li><a href="#aspnet知识点">ASP.NET知识点</a><ul>
<li><a href="#第一章-aspnet简介">第一章 ASP.NET简介</a></li>
<li><a href="#第二章-aspnet中的控件">第二章 ASP.NET中的控件</a><ul>
<li><a href="#1-控件分类">1. 控件分类</a></li>
<li><a href="#2-页面回发">2. 页面回发</a></li>
<li><a href="#3-常用控件">3. 常用控件</a><ul>
<li><a href="#1-label控件">1. <strong>Label控件</strong></a></li>
<li><a href="#2-textbox控件"><strong>2. TextBox控件</strong></a></li>
<li><a href="#3-image控件">3. <strong>Image控件</strong></a></li>
<li><a href="#4-hyperlink控件">4. <strong>HyperLink控件</strong></a></li>
<li><a href="#5-radiobutton控件">5. <strong>RadioButton控件</strong></a></li>
<li><a href="#6-checkbox控件">6. <strong>CheckBox控件</strong></a></li>
<li><a href="#7-列表控件">7. <strong>列表控件</strong></a></li>
<li><a href="#8-hiddenfield控件">8. <strong>HiddenField控件</strong></a></li>
</ul>
</li>
<li><a href="#4-服务器控件的客户端事件处理">4. 服务器控件的客户端事件处理</a></li>
<li><a href="#5-总结">5. 总结</a></li>
</ul>
</li>
<li><a href="#第三章-aspnet系统对象与状态管理">第三章 ASP.NET系统对象与状态管理</a><ul>
<li><a href="#1-系统对象的概念">1. <strong>系统对象的概念</strong></a><ul>
<li><a href="#1-page对象">1. Page对象</a></li>
<li><a href="#2-response对象">2. Response对象</a></li>
<li><a href="#3-server对象">3. Server对象</a></li>
<li><a href="#4-aspnet中的状态管理">4. ASP.NET中的状态管理</a></li>
<li><a href="#5-cookie对象">5. Cookie对象</a></li>
<li><a href="#6-session对象">6. Session对象</a></li>
<li><a href="#7-application对象">7. Application对象</a></li>
<li><a href="#8-状态管理技术的区别">8. 状态管理技术的区别</a></li>
</ul>
</li>
<li><a href="#2-总结">2. 总结</a></li>
</ul>
</li>
<li><a href="#第四章-基于三层架构搭建系统">第四章 基于三层架构搭建系统</a><ul>
<li><a href="#1-为什么需要分层架构">1. <strong>为什么需要分层架构</strong></a></li>
<li><a href="#2-三层结构的优势">2. 三层结构的优势</a></li>
<li><a href="#3-模型层">3. 模型层</a><ul>
<li><a href="#3-1-创建模型层">3-1 创建模型层</a></li>
</ul>
</li>
<li><a href="#4-数据访问层">4. 数据访问层</a><ul>
<li><a href="#4-1-创建数据访问层">4-1 创建数据访问层</a></li>
<li><a href="#4-2-添加依赖">4-2 添加依赖</a></li>
</ul>
</li>
<li><a href="#5-业务逻辑层">5. 业务逻辑层</a><ul>
<li><a href="#5-1-创建业务逻辑层">5-1 创建业务逻辑层</a></li>
<li><a href="#5-2-添加依赖">5-2 添加依赖</a></li>
</ul>
</li>
<li><a href="#6-表示层">6. 表示层</a><ul>
<li><a href="#6-1-创建表示层">6-1 创建表示层</a></li>
<li><a href="#6-2-添加依赖">6-2 添加依赖</a></li>
</ul>
</li>
<li><a href="#7-目录结构">7. 目录结构</a></li>
<li><a href="#8-总结">8. 总结</a></li>
</ul>
</li>
<li><a href="#第五章-搭建风格统一的web站点">第五章 搭建风格统一的Web站点</a><ul>
<li><a href="#1-母版页">1. 母版页</a></li>
<li><a href="#2-母版页的优点">2. 母版页的优点</a></li>
<li><a href="#3-创建母版页">3. 创建母版页</a><ul>
<li><a href="#3-1-母版页的源文件">3-1 母版页的源文件</a></li>
<li><a href="#3-2-普通页面与母版页的区别">3-2 普通页面与母版页的区别</a></li>
</ul>
</li>
<li><a href="#4-创建内容页">4. 创建内容页</a><ul>
<li><a href="#4-1-新创建的内容页代码">4-1 新创建的内容页代码</a></li>
<li><a href="#4-2-将现有页面改为内容页">4-2 将现有页面改为内容页</a></li>
</ul>
</li>
<li><a href="#5-站点地图">5. 站点地图</a></li>
<li><a href="#6-treeview控件">6. TreeView控件</a></li>
<li><a href="#7-sitemappath">7. SiteMapPath</a></li>
<li><a href="#8-总结">8. <strong>总结</strong></a></li>
</ul>
</li>
<li><a href="#第六章-验证控件和上传控件">第六章 验证控件和上传控件</a><ul>
<li><a href="#1-数据验证控件">1. 数据验证控件</a><ul>
<li><a href="#1-requiredfieldvalidator">1. <strong>RequiredFieldValidator</strong></a></li>
<li><a href="#2-rangevalidator">2. <strong>RangeValidator</strong></a></li>
<li><a href="#3-comparevalidator">3. <strong>CompareValidator</strong></a></li>
<li><a href="#4-regularexpressionvalidator">4. <strong>RegularExpressionValidator</strong></a></li>
<li><a href="#5-customvalidator">5. <strong>CustomValidator</strong></a></li>
<li><a href="#6-validationsummary">6. <strong>ValidationSummary</strong></a></li>
<li><a href="#7-pageisvalid">7. <strong>Page.IsValid</strong></a></li>
<li><a href="#8-禁用验证">8. <strong>禁用验证</strong></a></li>
<li><a href="#9-文件上传控件">9. <strong>文件上传控件</strong></a></li>
</ul>
</li>
<li><a href="#2-总结-1">2. 总结</a></li>
</ul>
</li>
<li><a href="#第七章-数据绑定和gridview控件">第七章-数据绑定和GridView控件</a><ul>
<li><a href="#1-数据绑定">1. 数据绑定</a><ul>
<li><a href="#1-1-数据绑定机制">1-1 数据绑定机制</a></li>
<li><a href="#1-2-数据绑定表达式语法">1-2 数据绑定表达式语法</a></li>
</ul>
</li>
<li><a href="#2-gridview控件">2. GridView控件</a><ul>
<li><a href="#2-1-使用gridview控件呈现数据">2-1 使用GridView控件呈现数据</a></li>
<li><a href="#2-2-手动创建gridview列">2-2 手动创建GridView列</a></li>
<li><a href="#2-3-boundfield">2-3. BoundField</a></li>
<li><a href="#2-4-imagefield">2-4 ImageField</a></li>
<li><a href="#2-5-templatefield">2-5 TemplateField</a></li>
<li><a href="#2-6-commandfield">2-6 CommandField</a></li>
<li><a href="#2-7-hyperlinkfield">2-7 HyperLinkField</a></li>
<li><a href="#2-8-gridview的分页">2-8 GridView的分页</a></li>
<li><a href="#2-9-设置gridview的样式">2-9 设置GridView的样式</a></li>
</ul>
</li>
<li><a href="#3-总结">3. <strong>总结</strong></a></li>
</ul>
</li>
<li><a href="#第八章-gridview控件的使用二">第八章 GridView控件的使用（二）</a><ul>
<li><a href="#1-gridview控件的编辑功能">1. GridView控件的编辑功能</a></li>
<li><a href="#2-高亮显示鼠标悬浮的行数据">2. 高亮显示鼠标悬浮的行数据</a></li>
<li><a href="#3-detailsview控件">3. DetailsView控件</a></li>
<li><a href="#总结">总结</a></li>
</ul>
</li>
<li><a href="#第九章-使用datalist和repeater绑定数据">第九章 使用DataList和Repeater绑定数据</a><ul>
<li><a href="#1-datalist控件的使用">1. DataList控件的使用</a></li>
<li><a href="#2-datalist控件的重要属性">2. DataList控件的重要属性</a></li>
<li><a href="#3-实现datalist控件的分页">3. 实现DataList控件的分页</a></li>
<li><a href="#4-repeater控件的使用">4. Repeater控件的使用</a></li>
<li><a href="#总结-1">总结</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<!-- tocstop -->

<a id="more"></a>

<h1><span id="aspnet知识点">ASP.NET知识点</span></h1><h2><span id="第一章-aspnet简介">第一章 ASP.NET简介</span></h2><ul>
<li>ASP.NET有两种编码方式: 代码内嵌和代码后置 <ul>
<li><strong><em>代码内嵌</em></strong></li>
<li><img data-src="../images/mdImages/image-20200605145033897.png" alt="image-20200605145033897"></li>
<li><strong><em>代码后置</em></strong></li>
<li><img data-src="../images/mdImages/image-20200605144902385.png" alt="image-20200605144902385"></li>
</ul>
</li>
</ul>
<h2><span id="第二章-aspnet中的控件">第二章  ASP.NET中的控件</span></h2><h3><span id="1-控件分类">1. 控件分类</span></h3><ol>
<li><strong>HTML控件</strong><ul>
<li>比如<code>&lt;input type=&quot;text&quot; /&gt;</code>是一个文本框标签，在ASP.NET中，这种标签称作HTML控件。</li>
<li>在客户端使用JavaScript脚本语言进行控制。</li>
<li>HTML控件不消耗服务器资源，如果仅仅强调客户端的应用，那么用HTML控件即可。</li>
</ul>
</li>
<li><strong>HTML服务器控件</strong><ul>
<li>通过在HTML标签中添加“runat=”server””属性，将HTML控件转换为HTML服务器控件</li>
<li>在ASP.NET执行的过程中，ASP.NET将创建包含“runat=”server””属性的元素实例，如果需要在后置代码中使用此实例，则需要为控件分配id属性。</li>
<li><img data-src="../images/mdImages/image-20200605145844340.png" alt="image-20200605145844340"></li>
</ul>
</li>
<li><strong>Web服务器控件</strong><ul>
<li>微软重新定义的一套控件。</li>
<li>Web服务器控件提供统一的编程模型、包含方法以及与之相关的事件处理程序，并且这些代码都在服务器端执行。</li>
<li>Web服务器控件的标签都是以“asp:”开头，称为标记前缀，后面是控件类型。</li>
<li><img data-src="../images/mdImages/image-20200605145933161.png" alt="image-20200605145933161"></li>
</ul>
</li>
<li><strong>服务器控件</strong><pre><code>- HTML服务器控件和Web服务器控件都是在服务器端运行，它们通过设置id属性，在服务器端用id来自动捕获它们。
- HTML服务器控件和Web服务器控件对应着类不同，如Button，所以HTML服务器控件和Web服务器控件的属性、方法及事件并不相同
- ![image-20200605150113960](../images/mdImages/image-20200605150113960.png)</code></pre></li>
</ol>
<ul>
<li><em>不管什么控件，最终会生成HTML代码，由浏览器根据HTML代码解析后呈现</em></li>
</ul>
<h3><span id="2-页面回发">2. 页面回发</span></h3><ul>
<li>单击服务器控件Button时，引起了页面的回发。回发会触发Page_Load事件与按钮单击等事件。</li>
<li>页面回发的本质是提交表单。</li>
</ul>
<h3><span id="3-常用控件">3. 常用控件</span></h3><h4><span id="1-label控件">1. <strong>Label控件</strong></span></h4><ul>
<li><p>Label控件是ASP.NET中最常用的控件之一，用于将文本内容显示在网页上，支持以编程方式动态修改显示的内容。</p>
</li>
<li><table>
<thead>
<tr>
<th align="left">成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Text</td>
<td>属性</td>
<td>获取或者设置控件的文本内容</td>
</tr>
<tr>
<td align="left">AccessKey</td>
<td>属性</td>
<td>导航到其他控件的快捷键</td>
</tr>
<tr>
<td align="left">AssociatedControlID</td>
<td>属性</td>
<td>使用快捷键导航的目的控件ID</td>
</tr>
<tr>
<td align="left">Visible</td>
<td>属性</td>
<td>布尔值，设置控件是否可见</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605150645780.png" alt="image-20200605150645780"></p>
</li>
</ul>
<h4><span id="2-textbox控件"><strong>2. TextBox控件</strong></span></h4><ul>
<li><p>使用TextBox控件收集用户输入的信息或者显示文本。它可以配置为单行、多行或者密码类型。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>AutoPostBack</td>
<td>属性</td>
<td>布尔值，规定当内容改变时，是否回传到服务器。默认是 false</td>
</tr>
<tr>
<td>Text</td>
<td>属性</td>
<td>获取或者设置控件的文本内容</td>
</tr>
<tr>
<td>TextMode</td>
<td>属性</td>
<td>设置  TextBox的模式（单行、多行或密码等）</td>
</tr>
<tr>
<td>ReadOnly</td>
<td>属性</td>
<td>布尔值，设置能否改变文本框中的文本</td>
</tr>
<tr>
<td>MaxLength</td>
<td>属性</td>
<td>在 TextBox 中所允许的最大字符数</td>
</tr>
<tr>
<td>Rows</td>
<td>属性</td>
<td>设置TextBox 的高度（仅在 TextMode=”Multiline” 时使用）</td>
</tr>
<tr>
<td>Columns</td>
<td>属性</td>
<td>设置TextBox 的宽度</td>
</tr>
<tr>
<td>OnTextChanged</td>
<td>事件</td>
<td>当 TextBox 中的文本被更改时所触发的事件</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605150756891.png" alt="image-20200605150756891"></p>
</li>
</ul>
<h4><span id="3-image控件">3. <strong>Image控件</strong></span></h4><ul>
<li><p>Image控件用于在网页上呈现图片，最终生成<img>元素，支持以编程的方式管理显示的图片。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ImageUrl</td>
<td>属性</td>
<td>显示的图片所在的URL地址</td>
</tr>
<tr>
<td>ToolTip</td>
<td>属性</td>
<td>当鼠标指向图片时的说明性文字</td>
</tr>
<tr>
<td>AlternateText</td>
<td>属性</td>
<td>图像不可用时取代图像显示的文字</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605150907140.png" alt="image-20200605150907140"></p>
</li>
</ul>
<h4><span id="4-hyperlink控件">4. <strong>HyperLink控件</strong></span></h4><ul>
<li><p>HyperLink控件用于在网页上以图片或文本方式呈现一个链接。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Text</td>
<td>属性</td>
<td>显示链接的文本</td>
</tr>
<tr>
<td>ImageUrl</td>
<td>属性</td>
<td>显示链接的图片所在的URL地址</td>
</tr>
<tr>
<td>NavigateUrl</td>
<td>属性</td>
<td>链接的目的页面的URL地址</td>
</tr>
<tr>
<td>ToolTip</td>
<td>属性</td>
<td>当鼠标指向链接时的说明性文字</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605151016530.png" alt="image-20200605151016530"></p>
</li>
</ul>
<h4><span id="5-radiobutton控件">5. <strong>RadioButton控件</strong></span></h4><ul>
<li><p>RadioButton控件用于在页面创建一个单选项，可以将多个单选项分为一组来创建多个互斥的选项。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Text</td>
<td>属性</td>
<td>获取或者设置单选按钮的文本</td>
</tr>
<tr>
<td>TextAlign</td>
<td>属性</td>
<td>设置文本和单选按钮的对齐方式</td>
</tr>
<tr>
<td>GroupName</td>
<td>属性</td>
<td>分组的名称</td>
</tr>
<tr>
<td>Checked</td>
<td>属性</td>
<td>获取或者设置是否选中控件</td>
</tr>
<tr>
<td>OnCheckedChanged</td>
<td>事件</td>
<td>选择状态改变时触发</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605151108803.png" alt="image-20200605151108803"></p>
</li>
</ul>
<h4><span id="6-checkbox控件">6. <strong>CheckBox控件</strong></span></h4><ul>
<li><p>CheckBox控件用来在页面中创建复选框。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Text</td>
<td>属性</td>
<td>获取或者设置单选按钮的文本</td>
</tr>
<tr>
<td>TextAlign</td>
<td>属性</td>
<td>设置文本和单选按钮的对齐方式</td>
</tr>
<tr>
<td>Checked</td>
<td>属性</td>
<td>获取或者设置是否选中控件</td>
</tr>
<tr>
<td>OnCheckedChanged</td>
<td>事件</td>
<td>选择状态改变时触发</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605151209330.png" alt="image-20200605151209330"></p>
</li>
</ul>
<h4><span id="7-列表控件">7. <strong>列表控件</strong></span></h4><ul>
<li><p>列表控件主要用于显示若干个选项，让用户选择其中一项或多项，具体过程取决于列表控件允许单选还是多项。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>AutoPostBack</td>
<td>属性</td>
<td>获取或设置一个值，当更改选项时，是否自动产生向服务器的回发</td>
</tr>
<tr>
<td>Items</td>
<td>属性</td>
<td>获取控件列表项的集合</td>
</tr>
<tr>
<td>SelectedValue</td>
<td>属性</td>
<td>获取列表控件中选定项的值或设置列表控件中包含指定值的项</td>
</tr>
<tr>
<td>Text</td>
<td>属性</td>
<td>获取或设置控件的SelectedValue属性</td>
</tr>
<tr>
<td>SelectedItem</td>
<td>属性</td>
<td>获取列表控件中索引最小的选定项</td>
</tr>
<tr>
<td>SelectedIndex</td>
<td>属性</td>
<td>获取或设置控件中选定项的最低序号索引</td>
</tr>
<tr>
<td>DataSource</td>
<td>属性</td>
<td>获取或设置对象，列表控件从该对象中检索其数据项列表</td>
</tr>
<tr>
<td>DataTextField</td>
<td>属性</td>
<td>获取或设置为列表项提供文本内容的数据源字段</td>
</tr>
<tr>
<td>DataValueField</td>
<td>属性</td>
<td>获取或设置为列表项提供值的数据源字段</td>
</tr>
<tr>
<td>DataBind</td>
<td>方法</td>
<td>将数据源绑定到控件及其所有子控件中</td>
</tr>
</tbody></table>
</li>
<li><p>在ASP.NET中，列表控件包括<strong><em>DropDownList控件</em></strong>、<strong><em>ListBox控件</em></strong>、<strong><em>RadioButtonList控件</em></strong>和<strong><em>CheckBoxList控件</em></strong>。</p>
</li>
<li><p><strong>RadioButtonList</strong>与<strong>CheckBoxList</strong>的常用成员如下所示。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>TextAlign</td>
<td>属性</td>
<td>文字与控件的对齐方式</td>
</tr>
<tr>
<td>RepeatDirection</td>
<td>属性</td>
<td>列表显示时排列的方向</td>
</tr>
<tr>
<td>RepeatColumns</td>
<td>属性</td>
<td>列表显示的列数</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605151415025.png" alt="image-20200605151415025"></p>
</li>
</ul>
<h4><span id="8-hiddenfield控件">8. <strong>HiddenField控件</strong></span></h4><ul>
<li>HiddenField控件是ASP.NET表单类控件，它没有用户界面，包含一个常用属性Value。</li>
<li>HiddenField控件会生成“type=’hidden’”的input元素</li>
<li>在实际项目中，为了避免页面回发时使数据恢复初始化的状态，可以使用HiddenField控件来保存这些数据。</li>
<li><img data-src="../images/mdImages/image-20200605151516095.png" alt="image-20200605151516095"></li>
</ul>
<h3><span id="4-服务器控件的客户端事件处理">4. 服务器控件的客户端事件处理</span></h3><ul>
<li>触发基于AutoPostback属性设置为true的服务器控件的事件会导致页面的回发，以便服务器端执行处理。</li>
<li>但回发会导致整个页面的频繁刷新，降低客户的体验度，也会增加服务器的负担，所以可以将一些工作借助客户端事件进行处理。</li>
<li>客户端事件在浏览器中引发后立即捕获，由浏览器中的javascript脚本负责处理；</li>
<li>在ASP.NET中，服务器控件借助Attributes属性来支持客户端的各种事件。</li>
<li>Attributes属性是在服务器端为服务器控件添加客户端处理代码的解决方案。</li>
<li><img data-src="../images/mdImages/image-20200605151723970.png" alt="image-20200605151723970"></li>
</ul>
<h3><span id="5-总结">5. 总结</span></h3><ul>
<li><p>在HTML标签中添加“runat=”server””的属性，把HTML控件转化为HTML服务器控件。</p>
</li>
<li><p>Web服务器控件不是由HTML元素直接转换而来的，而是微软重新定义的一套抽象控件。 </p>
</li>
<li><p>基本的Web服务器控件有Label、TextBox、Image、HyperLink、RadioButton、CheckBox、- DropDownList、ListBox、RadioButtonList、CheckBoxList、HiddenField等。</p>
</li>
<li><p>页面的回发会形成了一个新请求，服务器利用隐藏域保存服务器控件的状态和属性，在回传到服务器处理时，服务器又会将它们还原成控件的状态数据。</p>
</li>
<li><p>Attributes属性是在服务器端为服务器控件添加客户端处理代码的解决方案。</p>
</li>
</ul>
<h2><span id="第三章-aspnet系统对象与状态管理">第三章 ASP.NET系统对象与状态管理</span></h2><h3><span id="1-系统对象的概念">1. <strong>系统对象的概念</strong></span></h3><ul>
<li><p>在ASP.NET页面中包含一系列类，在页面中可以直接使用，我们称之为系统对象。</p>
</li>
<li><p>系统对象不需要编写代码进行初始化，其初始化时是在ASP.NET执行期间由系统完成的。</p>
</li>
<li><table>
<thead>
<tr>
<th>系统对象</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>Context</td>
<td>System.Web.HttpContext</td>
</tr>
<tr>
<td>Page</td>
<td>System.Web.UI.Page</td>
</tr>
<tr>
<td>Request</td>
<td>System.Web.HttpRequest</td>
</tr>
<tr>
<td>Response</td>
<td>System.Web.HttpResponse</td>
</tr>
<tr>
<td>Server</td>
<td>System.Web.HttpServerUtility</td>
</tr>
<tr>
<td>Application</td>
<td>System.Web.HttpApplicationState</td>
</tr>
<tr>
<td>Session</td>
<td>System.Web.SessionState.HttpSessionState</td>
</tr>
</tbody></table>
</li>
</ul>
<h4><span id="1-page对象">1. Page对象</span></h4><ul>
<li><p>ASP.NET页面继承System.Web.UI.Page类</p>
</li>
<li><p>每一个ASP.NET的页面对应一个页面类，所以每个ASP.NET页面在运行时就是一个Page对象。</p>
</li>
<li><p>用户访问页面时，ASP.NET会编译.aspx文件和.cs文件，合并生成页面类。</p>
</li>
<li><p><strong><em>@Page指令</em></strong></p>
<ul>
<li><p>aspx文件源视图，第一行代码如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Page Language&#x3D;&quot;C#&quot; AutoEventWireup&#x3D;&quot;true&quot; CodeFile&#x3D;&quot;Default.aspx.cs&quot; Inherits&#x3D;&quot;_Default&quot; </span><br><span class="line">&#x2F;&#x2F;Laguage：页面中代码的语言，必须是.NET Framework支持的语言。</span><br><span class="line">&#x2F;&#x2F;AutoEventWireup：设置页面是否自动调用网页事件，默认为true。</span><br><span class="line">&#x2F;&#x2F;CodeFile:指定代码后置的文件名，该后置代码与页面是局部关系。</span><br><span class="line">&#x2F;&#x2F;Inherits：用于指定后置代码中页面类的名称。</span><br><span class="line"> %&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong><em>Page对象的常用成员</em></strong></p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>IsPostBack</td>
<td>属性</td>
<td>页面是否为回发状态</td>
</tr>
<tr>
<td>ClientScript</td>
<td>属性</td>
<td>管理客户端的脚本代码引入</td>
</tr>
<tr>
<td>Context</td>
<td>属性</td>
<td>Context系统对象的引用</td>
</tr>
<tr>
<td>Response</td>
<td>属性</td>
<td>Response系统对象的引用</td>
</tr>
<tr>
<td>Request</td>
<td>属性</td>
<td>Request系统对象的引用</td>
</tr>
<tr>
<td>Server</td>
<td>属性</td>
<td>Server系统对象的引用</td>
</tr>
<tr>
<td>Application</td>
<td>属性</td>
<td>Application系统对象的引用</td>
</tr>
<tr>
<td>Session</td>
<td>属性</td>
<td>Session系统对象的引用</td>
</tr>
<tr>
<td>FindControl</td>
<td>方法</td>
<td>查找指定名称的控件</td>
</tr>
<tr>
<td>Load</td>
<td>事件</td>
<td>在页面加载时触发</td>
</tr>
</tbody></table>
<ul>
<li>Page对象的IsPostBack属性<ul>
<li>IsPostBack属性用于区分页面是第一次加载还是因客户端回发而引起的加载。</li>
<li>当系统检测到页面处于回发状态时，会自动将IsPostBacks属性设为True。</li>
<li><img data-src="../images/mdImages/image-20200605152905903.png" alt="image-20200605152905903"></li>
<li><img data-src="../images/mdImages/image-20200605152919140.png" alt="image-20200605152919140"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><span id="2-response对象">2. Response对象</span></h4><ul>
<li><p>Response对象提供对页面输出流的访问，用于ASP.NET的输出。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th align="center">成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>Write</td>
<td align="center">方法</td>
<td>将指定的内容输出至页面</td>
</tr>
<tr>
<td>Redirect</td>
<td align="center">方法</td>
<td>将页面重定向到另一页面</td>
</tr>
<tr>
<td>ContentType</td>
<td align="center">属性</td>
<td>输出流的MIME类型，默认是  “text/html”</td>
</tr>
<tr>
<td>WriteFile</td>
<td align="center">方法</td>
<td>将指定的文件写入输出流</td>
</tr>
<tr>
<td>QueryString</td>
<td align="center">属性</td>
<td>HTTP协议GET请求发送的数据集合</td>
</tr>
<tr>
<td>Form</td>
<td align="center">属性</td>
<td>HTTP协议POST请求发送的数据集合</td>
</tr>
<tr>
<td>ServerVariables</td>
<td align="center">属性</td>
<td>本次请求的服务器端变量集合</td>
</tr>
<tr>
<td>Params</td>
<td align="center">属性</td>
<td>QueryString  Form  ServerVariables和Cookies项的组合集合该方法需要在最大的范围寻找匹配字段</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605153610264.png" alt="image-20200605153610264"></p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605153622327.png" alt="image-20200605153622327"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!IsPostBack)</span><br><span class="line">        &#123;</span><br><span class="line">            string name &#x3D; Request.Form[&quot;txtName&quot;];</span><br><span class="line">            string pwd &#x3D; Request.Form[&quot;txtPwd&quot;];</span><br><span class="line">            string tel &#x3D; Request.Form[&quot;txtTelphone&quot;];</span><br><span class="line">            Response.Write(&quot;注册信息如下：&lt;br&#x2F;&gt;&quot;);</span><br><span class="line">            Response.Write(&quot;用户名：&quot; + name + &quot;&lt;br&#x2F;&gt;密码是：&quot; + pwd + &quot;&lt;br&#x2F;&gt;联系方式是：&quot; + tel);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4><span id="3-server对象">3. Server对象</span></h4><ul>
<li><p>Server对象封装了一些Web服务器相关的常用方法。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>UrlEncode</td>
<td>对URL地址进行编码，对于URL需要传输含有“#”、“&amp;”等特殊字符的参数时，需要进行编码，否则后面的内容不会被识别</td>
</tr>
<tr>
<td>UrlDecode</td>
<td>此方法与UrlEncode方法相反，对URL地址进行解码</td>
</tr>
<tr>
<td>HtmlEncode</td>
<td>编码字符串，使其在浏览器中的的显示与原字符串一致。如希望输出“&lt;br/&gt;”，又不想在浏览器中显示换行，则需要使用该方法</td>
</tr>
<tr>
<td>HtmlDecode</td>
<td>与HtmlEncode方法相反，对已编码内容解码</td>
</tr>
<tr>
<td>MapPath</td>
<td>方法的参数是虚拟路径，可返回该路径在物理磁盘中的准确位置。此方法在Web开发过程中使用频率比较高，一般实现文件读写都需要该方法</td>
</tr>
<tr>
<td>Execute</td>
<td>在当前页面执行参数指定的页面，执行完成后继续执行本页面</td>
</tr>
<tr>
<td>Transfer</td>
<td>参数指定的页面处理完成后，页面执行就结束，不像Execute那样还要返回控制权给先前的页面</td>
</tr>
</tbody></table>
</li>
<li><p><strong>UrlEncode</strong>与<strong>UrlDecode</strong>方法</p>
<ul>
<li><p>UrlEncode方法一般用于可能含有中文或特殊字符的环境中，有时也适用于对字符串进行简单加密。</p>
</li>
<li><p>调用UrlDecode方法，将编码进行解码操作，获得编码前的字符串。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605153840432.png" alt="image-20200605153840432"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">protected void btnSearch_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!string.IsNullOrEmpty(txtBook.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            Response.Redirect(&quot;BookList.aspx?name&#x3D;&quot;         +Server.UrlEncode(txtBook.Text));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>HtmlEncode</strong>与<strong>HtmlDecode</strong>方法</p>
<ul>
<li>HtmlEncode主要应用于使一个字符串以原始方式呈现在页面中时，被浏览器识别为标签的字符转换为显示的字符。</li>
<li><img data-src="../images/mdImages/image-20200605153939031.png" alt="image-20200605153939031"></li>
</ul>
</li>
<li><p><strong>MapPath</strong>方法</p>
<ul>
<li><p>Server对象的MapPath方法用于根据网站的虚拟路径获取物理磁盘上的真实路径。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605154019533.png" alt="image-20200605154019533"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">protected void btnSave_Click(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        if(!string.IsNullOrEmpty(txtContent.Text))</span><br><span class="line">        &#123;</span><br><span class="line">            string filePath &#x3D; Server.MapPath(&quot;~&#x2F;info.txt&quot;);</span><br><span class="line">            FileStream fs &#x3D; new FileStream(filePath, FileMode.OpenOrCreate);</span><br><span class="line">            StreamWriter sw &#x3D; new StreamWriter(fs);</span><br><span class="line">            sw.Write(txtContent.Text);</span><br><span class="line">            sw.Close();</span><br><span class="line">            fs.Close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p><strong>Execute</strong>和<strong>Transfer</strong>方法</p>
<ul>
<li><strong>Transfer</strong>用于终止当前页面程序的处理从而执行新的页面。</li>
<li><strong>Execute</strong>用于在当前请求上下文中执行一个新的页面。</li>
<li>Transfer会终止当前页面的处理，执行新页面的结果将替代当前页面；而<strong>Execute</strong>将执行一个新的页面，新页面的结果与当前页面的结果合并。</li>
<li><strong>Response.Redirect</strong>用于通知浏览器请求新页面，浏览器收到后会转向对新页面的请求，地址栏中显示新的请求地址。</li>
<li><strong>Transfer</strong>和<strong>Execute</strong>方法则是在当前请求中执行新页面，浏览器并不知情，地址栏中仍然显示原来请求的地址。</li>
<li><img data-src="../images/mdImages/image-20200605155023709.png" alt="image-20200605155023709"></li>
</ul>
</li>
</ul>
<h4><span id="4-aspnet中的状态管理">4. ASP.NET中的状态管理</span></h4><ul>
<li><strong>ASP.NET</strong>应用程序的访问是基于<strong>HTTP</strong>协议的，而<strong>HTTP</strong>协议在本质上是无状态的。</li>
<li>无状态的协议导致对页面的每个请求都视为新请求，来自一个请求的信息对下一个请求不可用。</li>
<li>为了解决无状态的问题，<strong>ASP.NET</strong>提供了大量的功能，用于在请求与请求之间、页面与页面之间甚至在整个应用程序内保留数据。</li>
<li>状态管理的技术包括隐藏域、<strong>Cookie</strong>、查询字符串、<strong>Application</strong>对象、<strong>Session</strong>对象等。</li>
</ul>
<h4><span id="5-cookie对象">5. Cookie对象</span></h4><ul>
<li><p><strong>Cookie</strong>是指小量信息，是服务器通知浏览器保存的一段文本信息，浏览器会将其保存在本地硬盘上。</p>
</li>
<li><p>对网站进行访问时，浏览器自动将从该网站保存下来的<strong>Cookies</strong>附加在请求中提交给服务器端。</p>
</li>
<li><p>每一个<strong>Cookie</strong>对象都保存在<strong>Cookies</strong>集合对象中，所以访问<strong>Cookie</strong>的方式如同访问集合中的元素。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605155327316.png" alt="image-20200605155327316"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Response.Cookies[&quot;UserName&quot;].Value &#x3D; txtName.Text;</span><br><span class="line">Response.Cookies[&quot;UserName&quot;].Expires &#x3D; DateTime.Now.AddHours(2); </span><br><span class="line">Response.Cookies[&quot;UserPwd&quot;].Value &#x3D; txtPwd.Text;</span><br><span class="line">lblName.Text &#x3D; &quot;Cookies中保存的名称为UserName的Cookie值为：&quot; + Request.Cookies[&quot;UserName&quot;].Value;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在客户端写入<strong>Cookies</strong>具有限制条件</p>
<ul>
<li>①大小限制。</li>
<li>①客户端可能关闭Cookie 。</li>
</ul>
</li>
</ul>
<h4><span id="6-session对象">6. Session对象</span></h4><ul>
<li><p>和<strong>Cookies</strong>一样，<strong>Session</strong>也是集合，同样可以使用键值对的方式进行访问，但是<strong>Cookie</strong>是保存在客户端的硬盘中，而<strong>Session</strong>是保存在服务器端的内存中。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>SessionID</td>
<td>属性</td>
<td>获取会话的唯一标识符</td>
</tr>
<tr>
<td>Timeout</td>
<td>属性</td>
<td>设置用户超时的时间，单位为分钟。<br>在该段时间内，用户即使没有任何操作，用户状态也不会被清除。<br>注意，此处的设置是针对服务器清除Session的时间而言的，<br>因为如果一段时间内没有操作，服务器是无法知道用户是否在线，<br>所以以超时间为限。而客户端有自己的处理机制，<br>不同的浏览器也不尽相同，一般关闭窗口就会造成Session丢失。</td>
</tr>
<tr>
<td>Clear</td>
<td>方法</td>
<td>从会话状态集合中移除所有的键值对。</td>
</tr>
<tr>
<td>Abandon</td>
<td>方法</td>
<td>取消当前会话</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200605160354899.png" alt="image-20200605160354899"></p>
</li>
</ul>
<h4><span id="7-application对象">7. Application对象</span></h4><ul>
<li><strong>Application</strong>对象是应用程序级的对象，用来在所有用户间共享数据，并可以在Web应用程序运行期间持久地保存数据，除非停止Web服务器。</li>
<li><strong>Application</strong>和<strong>Session</strong>一样，可以使用键值对的方式进行数据的访问。</li>
<li>修改<strong>Application</strong>对象中的数据时，必须先使用<strong>Lock</strong>方法锁定访问再修改，修改完毕后立即使用<strong>UnLock</strong>方法解除访问锁定。</li>
<li><img data-src="../images/mdImages/image-20200605160552154.png" alt="image-20200605160552154"></li>
</ul>
<h4><span id="8-状态管理技术的区别">8. 状态管理技术的区别</span></h4><ul>
<li>从<strong>应用范围</strong>方面来说，各种状态管理技术的主要区别如下<ol>
<li>隐藏域用于同一个页面回发时保留状态，一般用于保存单个页面中需要保留的简单值。</li>
<li>查询字符串一般用于在页与页之间保持状态，即将简单值从一个页面传递到另一个页面。</li>
<li><strong>Session</strong>对象用于在一个会话中保持状态。</li>
<li><strong>Cookie</strong>用于在一个客户端下保持状态。</li>
<li><strong>Application</strong>在整个应用程序间保持状态。</li>
</ol>
</li>
<li>从<strong>存储方式</strong>方面来说，各种状态管理技术的主要区别如下：<ol>
<li>隐藏域存储在呈现给客户端的页面中。</li>
<li>查询字符串将值存储在URL地址中。</li>
<li>Session对象将数据存储在服务器中，将SessionID属性的值存储在客户端</li>
<li>Cookie将数据存储在客户端。</li>
<li>Application将数据存储在服务器的内存中。</li>
</ol>
</li>
</ul>
<h3><span id="2-总结">2. 总结</span></h3><ul>
<li><p>常用的系统对象包括<strong>Context</strong>、<strong>Page</strong>、<strong>Response</strong>、<strong>Request</strong>、<strong>Server</strong>、<strong>Cookie</strong>、<strong>Session</strong>和<strong>Application</strong>。</p>
</li>
<li><p>解决无状态的技术包括隐藏域、<strong>Cookie</strong>、查询字符串、<strong>Session</strong>对象、<strong>Application</strong>对象等。 </p>
</li>
<li><p><strong>Response</strong>对象提供对输出流的访问，<strong>Request</strong>对象提供对输入流的访问，<strong>Server</strong>对象提供了常用工具方法。</p>
</li>
<li><p><strong>Cookies</strong>以文件形式存储在客户端的机器上，可以使用<strong>Cookies</strong>长期保存与用户相关的少量信息。</p>
</li>
<li><p><strong>Session</strong>对象存储会话级别数据，<strong>Application</strong>对象存储应用程序级别数据。</p>
</li>
</ul>
<h2><span id="第四章-基于三层架构搭建系统">第四章 基于三层架构搭建系统</span></h2><h3><span id="1-为什么需要分层架构">1. <strong>为什么需要分层架构</strong></span></h3><ul>
<li><img data-src="../images/mdImages/image-20200605161254380.png" alt="image-20200605161254380"></li>
<li><img data-src="../images/mdImages/image-20200605161304645.png" alt="image-20200605161304645"></li>
<li><img data-src="../images/mdImages/image-20200605161314204.png" alt="image-20200605161314204"></li>
<li><img data-src="../images/mdImages/image-20200605161323733.png" alt="image-20200605161323733"></li>
<li><img data-src="../images/mdImages/image-20200605161335829.png" alt="image-20200605161335829"></li>
</ul>
<h3><span id="2-三层结构的优势">2. 三层结构的优势</span></h3><ul>
<li>项目需求往往随市场的变化而发生变化，三层架构通过将各个功能模块分离，提高了项目的可维护性和代码的可重用性。</li>
<li>三层结构将各功能模块分离，有利于协作开发。</li>
<li>eg: <em>基于三层架构的优势，采用三层架构的设计方式，搭建车型系统架构。</em></li>
</ul>
<h3><span id="3-模型层">3. 模型层</span></h3><ul>
<li><p>三层架构中需要传递数据，如需要把数据从数据访问层传递到业务逻辑层，再从业务逻辑层传递到表示层。</p>
</li>
<li><p>模型层有时也称为实体层，和三层紧密相关，主要是作为层与层之间数据传递的载体。</p>
</li>
<li><p>模型层包含所有与数据库中的表相对应的实体类。</p>
</li>
<li><p>模型层提供了一个标准、规范，三层之间的数据传递就是通过传输实体对象或者实体对象集合来达到目的的。</p>
</li>
</ul>
<h4><span id="3-1-创建模型层">3-1 创建模型层</span></h4><ol>
<li><p>创建解决方案“CarSYS”。</p>
</li>
<li><p>在解决方案中，添加模型层对应的项目。<img data-src="../images/mdImages/image-20200605161645380.png" alt="image-20200605161645380"></p>
</li>
<li><p>在类库项目中，添加两个类，类名分别为“Brand.cs”和“Car.cs”，在类中分别添加字段和所对应的属性。</p>
</li>
<li><p>代码:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public class Brand</span><br><span class="line">    &#123;</span><br><span class="line">        private int brandId;</span><br><span class="line">        public int BrandId &#x2F;&#x2F;品牌编号</span><br><span class="line">        &#123;</span><br><span class="line">            get &#123; return brandId; &#125;</span><br><span class="line">            set &#123; brandId &#x3D; value; &#125;</span><br><span class="line">        &#125;</span><br><span class="line">     &#x2F;&#x2F;其他代码省略……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3><span id="4-数据访问层">4. 数据访问层</span></h3><ul>
<li>数据访问层封装了所有与数据库交互的操作。</li>
<li>数据访问层针对每个数据表提供单纯的增加、查询、修改和删除的操作，不做业务逻辑的判断。</li>
</ul>
<h4><span id="4-1-创建数据访问层">4-1 创建数据访问层</span></h4><ol>
<li><p>在解决方案中，添加“CarSYSDAL”类库项目 。</p>
</li>
<li><p>在类库项目中添加类。针对模型层中的每一个类，数据访问层有一个对应的数据访问类，如Car类对应着CarService类。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class CarService</span><br><span class="line"> &#123;</span><br><span class="line">        public void AddCar(Car car)&#123;   &#125;</span><br><span class="line">       public bool DeleteCarById(int id)&#123;   &#125;</span><br><span class="line">       public bool ModifyCar(Car car)&#123;    &#125;</span><br><span class="line">       public List&lt;Car&gt; GetCars() &#123;  &#125;</span><br><span class="line">       public Car GetCarById(int id)&#123;   &#125; </span><br><span class="line">       ……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4><span id="4-2-添加依赖">4-2 添加依赖</span></h4><ul>
<li><p>在数据访问层中使用模型层的Car类，通过“添加项目引用”实现数据访问层调用模型层。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605162207745.png" alt="image-20200605162207745"></p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605162213593.png" alt="image-20200605162213593"></p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605162220310.png" alt="image-20200605162220310"></p>
</li>
<li><p>示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public  void  AddCar(Car car)  </span><br><span class="line">    &#123;</span><br><span class="line">         string constr &#x3D; &quot;server&#x3D;.;uid&#x3D;sa;pwd&#x3D;1;database&#x3D;CarSYS&quot;;</span><br><span class="line">           string sql &#x3D; &quot;insert into car values(&#39;&quot;+car.CarName+&quot;&#39;,&quot;+car.CarBrand.BrandId+&quot;,&#39;&quot;+car.Picture+&quot;&#39;,&quot;+car.OfficialPrice+&quot;,&quot;+car.Click+&quot;)&quot;;</span><br><span class="line">           SqlConnection con &#x3D; new SqlConnection(constr);</span><br><span class="line">           try</span><br><span class="line">           &#123;</span><br><span class="line">               con.Open();</span><br><span class="line">               SqlCommand cmd &#x3D; new SqlCommand(sql, con);</span><br><span class="line">                cmd.ExecuteNonQuery();</span><br><span class="line">                sql &#x3D; &quot;select @@IDENTITY</span><br><span class="line">               cmd.CommandText&#x3D;sql;</span><br><span class="line">               car.CarId&#x3D;Convert.ToInt32(cmd.ExecuteScalar());</span><br><span class="line">           &#125;</span><br><span class="line">         ……</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">public void AddCar(Car car)</span><br><span class="line">       &#123;</span><br><span class="line">        ……</span><br><span class="line">       try</span><br><span class="line">           &#123;</span><br><span class="line">              ……</span><br><span class="line">              cmd.CommandType &#x3D; CommandType.StoredProcedure;&#x2F;&#x2F;命令类型是存储过程</span><br><span class="line">               cmd.CommandText &#x3D; &quot;usp_AddCar&quot;;&#x2F;&#x2F;usp_AddCar是数据库中已经编译成功的存储过程</span><br><span class="line">               SqlParameter[] para &#x3D; new SqlParameter[]&#123;&#x2F;&#x2F;SqlParameter对象数组，保存存储过程中的参数</span><br><span class="line">                   new SqlParameter(&quot;@CarName&quot;,car.CarName),</span><br><span class="line">                    new SqlParameter(&quot;@BrandId&quot;,car.CarBrand.BrandId),</span><br><span class="line">                    new SqlParameter(&quot;@Picture&quot;,car.Picture),</span><br><span class="line">                    ……</span><br><span class="line">              &#125;;</span><br><span class="line">               para[5].Direction &#x3D; ParameterDirection.Output; &#x2F;&#x2F;设置最后一个参数是输出类型的</span><br><span class="line">               foreach (SqlParameter eachPa in para)</span><br><span class="line">               &#123;</span><br><span class="line">                   cmd.Parameters.Add(eachPa);</span><br><span class="line">               &#125;</span><br><span class="line">               cmd.ExecuteNonQuery();</span><br><span class="line">               car.CarId &#x3D; Convert.ToInt32(cmd.Parameters[&quot;@carId&quot;].Value);&#x2F;&#x2F;获取输出参数的值</span><br><span class="line">           &#125;</span><br><span class="line">        ……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3><span id="5-业务逻辑层">5. 业务逻辑层</span></h3><ul>
<li><p>业务逻辑层是表示层与数据访问层的桥梁，负责业务处理和数据传递。</p>
</li>
<li><p>业务逻辑层的方法一般与实际需求相关，如用户注册，事实上，用户注册不仅仅是添加一条记录那么简单，它还包含了验证用户名是否已经存在等业务逻辑。</p>
</li>
</ul>
<h4><span id="5-1-创建业务逻辑层">5-1 创建业务逻辑层</span></h4><ol>
<li><p>在解决方案中，添加“CarSYSBLL”类库项目 。</p>
</li>
<li><p>在类库项目中添加类。业务逻辑层中的类也是与模型层中的类相对应。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public class CarManager</span><br><span class="line">    &#123;</span><br><span class="line">       CarService cs &#x3D; new CarService();</span><br><span class="line">       public void AddCar(Car car)</span><br><span class="line">       &#123;</span><br><span class="line">             ……</span><br><span class="line">       &#125;     </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4><span id="5-2-添加依赖">5-2 添加依赖</span></h4><ul>
<li><p>业务逻辑层的方法不能直接访问数据库，业务逻辑层要添加数据访问层和模型层的引用。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605162529603.png" alt="image-20200605162529603"></p>
</li>
<li><p>示例:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class CarManager</span><br><span class="line">    &#123;</span><br><span class="line">       CarService cs &#x3D; new CarService();</span><br><span class="line">       public void AddCar(Car car)</span><br><span class="line">       &#123;</span><br><span class="line">            try</span><br><span class="line">           &#123;</span><br><span class="line">               cs.AddCar(car);</span><br><span class="line">           &#125;</span><br><span class="line">           catch (Exception ex)</span><br><span class="line">           &#123;</span><br><span class="line">               throw ex;</span><br><span class="line">           &#125; </span><br><span class="line">     &#125;     </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3><span id="6-表示层">6. 表示层</span></h3><ul>
<li><p>表示层负责内容的展现和与用户的交互。</p>
</li>
<li><p>表示层给予用户直接的体验，可以说前面的几层都是基础，表示层是最终的应用。</p>
</li>
<li><p>在ASP.NET中，表示层就是整个Web站点，即通过页面来实现数据的展示和与用户的交互。</p>
</li>
</ul>
<h4><span id="6-1-创建表示层">6-1 创建表示层</span></h4><ol>
<li><p>在解决方案中添加“CarSYSWeb网站。</p>
</li>
<li><p>表示层的主要内容就是控件+事件。</p>
</li>
</ol>
<h4><span id="6-2-添加依赖">6-2 添加依赖</span></h4><ul>
<li>在表示层中，需要添加对业务逻辑层和模型层的引用。</li>
<li><img data-src="../images/mdImages/image-20200605162804727.png" alt="image-20200605162804727"></li>
<li><img data-src="../images/mdImages/image-20200605162815286.png" alt="image-20200605162815286"></li>
</ul>
<h3><span id="7-目录结构">7. 目录结构</span></h3><ul>
<li><p>在解决方案中，创建了与模型层、数据访问层、业务逻辑层和表示层对应的四个项目。</p>
</li>
<li><p>通过引用完成了各个层之间的依赖关系，并在各个项目中，添加了相关的代码，最终完成了增加车型的功能。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605162915767.png" alt="image-20200605162915767"></p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605162921036.png" alt="image-20200605162921036"></p>
</li>
</ul>
<h3><span id="8-总结">8. 总结</span></h3><ul>
<li><p>三层主要包括数据访问层、业务逻辑层和表示层。</p>
</li>
<li><p>模型层有时也称为实体层，和三层紧密相关，主要是作为层与层之间数据传递的载体。</p>
</li>
<li><p>数据访问层针对每个数据表提供单纯的增加、查询、修改和删除的操作，不做业务逻辑的判断。</p>
</li>
<li><p>业务逻辑层是表示层与数据访问层的桥梁，负责业务处理和数据传递。该部分的方法一般与实际需求相关。</p>
</li>
<li><p>表示层负责内容的展现和与用户的交互。它给予用户直接的体验，可以说数据访问层、业务逻辑层是基础，表示层是最终的应用。</p>
</li>
<li><p>数据访问层、模型层和业务逻辑层对应的项目是类库，生成的是dll程序集。</p>
</li>
<li><p>通过添加引用，建立各个层之间的依赖关系。</p>
</li>
</ul>
<h2><span id="第五章-搭建风格统一的web站点">第五章 搭建风格统一的Web站点</span></h2><h3><span id="1-母版页">1. 母版页</span></h3><ul>
<li><p>各个页面存在一些相同的部分，比较常见的有页面头部、底部、导航菜单等。</p>
</li>
<li><p>ASP.NET提供了母版页技术来提取各个页面中相同的内容，各个页面只需要编写各自的内容，页面和母版页合成形成了最后的页面。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605163220887.png" alt="image-20200605163220887"></p>
</li>
</ul>
<h3><span id="2-母版页的优点">2. 母版页的优点</span></h3><ul>
<li><p>有利于站点修改和维护，提高开发人员的开发效率。</p>
</li>
<li><p>母版页的页面元素丰富。</p>
</li>
<li><p>有利于实现页面布局。</p>
</li>
<li><p>提供一种便于利用的对象模型。</p>
</li>
</ul>
<h3><span id="3-创建母版页">3. 创建母版页</span></h3><ol>
<li><p>打开解决方案“CarSYS.sln”</p>
</li>
<li><p>在解决方案资源管理器窗口中，右键网站项目，在右键菜单中选择“添加” <strong>→</strong> “添加新项”  <strong>→</strong>  “母版页。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605163419874.png" alt="image-20200605163419874"></p>
</li>
</ol>
<h4><span id="3-1-母版页的源文件">3-1 母版页的源文件</span></h4><ul>
<li><img data-src="../images/mdImages/image-20200605163520957.png" alt="image-20200605163520957"></li>
</ul>
<h4><span id="3-2-普通页面与母版页的区别">3-2 普通页面与母版页的区别</span></h4><table>
<thead>
<tr>
<th>区别</th>
<th>普通页面</th>
<th>母版页</th>
</tr>
</thead>
<tbody><tr>
<td>扩展名</td>
<td>aspx</td>
<td>master</td>
</tr>
<tr>
<td>可访问性</td>
<td>可直接在浏览器中访问</td>
<td>不可以直接在浏览器中访问</td>
</tr>
<tr>
<td>页面指令</td>
<td>Page</td>
<td>Master</td>
</tr>
<tr>
<td>ContentPlaceHolder控件</td>
<td>不可使用</td>
<td>可使用</td>
</tr>
</tbody></table>
<p><img data-src="../images/mdImages/image-20200605163638176.png" alt="image-20200605163638176"></p>
<h3><span id="4-创建内容页">4. 创建内容页</span></h3><ul>
<li><p>母版页是页面的框架，还需要有内容页支撑页面内容。</p>
</li>
<li><p>创建内容页的操作与创建普通页面类似， “添加新项”à “Web窗体” à勾选“选择母版页”的复选框。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605163742083.png" alt="image-20200605163742083"></p>
</li>
</ul>
<h4><span id="4-1-新创建的内容页代码">4-1 新创建的内容页代码</span></h4><p><img data-src="../images/mdImages/image-20200605163840923.png" alt="image-20200605163840923"></p>
<p><img data-src="../images/mdImages/image-20200605163857491.png" alt="image-20200605163857491"></p>
<h4><span id="4-2-将现有页面改为内容页">4-2 将现有页面改为内容页</span></h4><ol>
<li>在@Page指令中设置MasterPageFile属性和Title属性</li>
</ol>
<p>2  去除多余的html标签</p>
<ol start="3">
<li><p>去除form标签</p>
</li>
<li><p>创建<strong>&lt;asp:Content&gt;</strong>标签，指定对应的<strong>ContentPlaceHolderID</strong>,并放入内容</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605164032977.png" alt="image-20200605164032977"></p>
</li>
</ol>
<h3><span id="5-站点地图">5. 站点地图</span></h3><ul>
<li><p>在构建大型网站时，管理网站的栏目及所有内容的链接是一项十分复杂的工作。</p>
</li>
<li><p>ASP.NET提供了专门的站点导航功能，将网站中所有页面链接以XML文件的方式集中存储在某个位置。</p>
</li>
<li><p>集中存储所有页面链接的文件称为站点地图文件，命名为“Web.sitemap”。</p>
</li>
<li><p>在网站中，添加站点地图文件，打开“添加新项”窗口，选择“站点地图”。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200605164108865.png" alt="image-20200605164108865"></p>
</li>
<li><p><strong>示例</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">siteMap</span> <span class="attr">xmlns</span>=<span class="string">"http://schemas.microsoft.com/AspNet/SiteMap-File-1.0"</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">siteMapNode</span> <span class="attr">url</span>=<span class="string">"~\Default.aspx"</span> <span class="attr">title</span>=<span class="string">"车型管理系统"</span>  <span class="attr">description</span>=<span class="string">"管理员控制系统"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">siteMapNode</span> <span class="attr">url</span>=<span class="string">""</span> <span class="attr">title</span>=<span class="string">"用户管理"</span>  <span class="attr">description</span>=<span class="string">""</span> &gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">siteMapNode</span> <span class="attr">url</span>=<span class="string">"~\UsersList.aspx"</span> <span class="attr">title</span>=<span class="string">"用户列表"</span> <span class="attr">description</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">siteMapNode</span> <span class="attr">url</span>=<span class="string">"~\AddUser.aspx"</span> <span class="attr">title</span>=<span class="string">"用户注册"</span> <span class="attr">description</span>=<span class="string">""</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">siteMapNode</span>&gt;</span></span><br><span class="line">     ……</span><br><span class="line">    <span class="tag">&lt;/<span class="name">siteMapNode</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">siteMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3><span id="6-treeview控件">6. TreeView控件</span></h3><ul>
<li><p><strong>TreeView</strong>控件通过树状方式显示站点地图中的节点，实现站点导航功能。</p>
</li>
<li><p>使用<strong>TreeView</strong>控件的步骤</p>
<ol>
<li><p>在站点中添加“<strong>Web.sitemap</strong>”文件</p>
</li>
<li><p>从工具箱的数据栏中拖入“<strong>SiteMapDataSource</strong>”控件</p>
</li>
<li><p>从工具箱的导航栏中拖入“<strong>TreeView</strong>”控件，并设置它的数据源即“<strong>DataSourceID</strong>”属性为拖入的“<strong>SiteMapDataSource</strong>”控件的ID</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;menu&quot;&gt;</span><br><span class="line">          &lt;asp:SiteMapDataSource ID&#x3D;&quot;SiteMapDataSource1&quot; runat&#x3D;&quot;server&quot; &#x2F;&gt;</span><br><span class="line">        &lt;asp:TreeView ID&#x3D;&quot;tvMenu&quot; runat&#x3D;&quot;server&quot;  DataSourceID&#x3D;&quot;SiteMapDataSource1&quot;&gt;&lt;&#x2F;asp:TreeView&gt;</span><br><span class="line">    &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
<ol start="4">
<li><img data-src="../images/mdImages/image-20200605164317743.png" alt="image-20200605164317743"></li>
</ol>
</li>
</ul>
<h3><span id="7-sitemappath">7. SiteMapPath</span></h3><ul>
<li><p>SiteMapPath控件也是常用的导航控件，一般又称为面包屑导航，它将在页面上显示一个导航路径，为用户显示当前页的位置以及返回主页的路径链接。</p>
</li>
<li><p>使用SiteMapPath控件的步骤</p>
<ol>
<li><p>在站点中添加站点地图文件</p>
</li>
<li><p>在页面中拖入SiteMapPath控件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id&#x3D;&quot;cph&quot;&gt;</span><br><span class="line"> &lt;p style&#x3D;&quot;font-size:14px; padding:20px&quot;&gt;您当前的位置： </span><br><span class="line">&lt;asp:SiteMapPath ID&#x3D;&quot;SiteMapPath1&quot; runat&#x3D;&quot;server&quot;&gt;&lt;&#x2F;asp:SiteMapPath&gt;&lt;&#x2F;p&gt; </span><br><span class="line">       &lt;asp:ContentPlaceHolder id&#x3D;&quot;ContentPlaceHolder1&quot; runat&#x3D;&quot;server&quot;&gt;    </span><br><span class="line">       &lt;&#x2F;asp:ContentPlaceHolder&gt;</span><br><span class="line"> &lt;&#x2F;div&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><img data-src="../images/mdImages/image-20200605164520867.png" alt="image-20200605164520867"></p>
</li>
</ol>
</li>
</ul>
<h3><span id="8-总结">8. <strong>总结</strong></span></h3><ul>
<li><p>使用母版页，可以为<strong>ASP.NET</strong>应用程序页面创建一个通用的外观</p>
</li>
<li><p>母版页可以说是页面的框架，还需要有内容页支撑页面内容创建内容页时，需要勾选“选择母版页”的复选框。</p>
</li>
<li><p><strong>ASP.NET</strong>站点导航功能将链接到网站上所有的页面以<strong>XML</strong>文件的方式集中存储在站点地图文件中，通过<strong>SiteMapDataSource</strong>控件向页面提供导航数据来源。</p>
</li>
<li><p><strong>TreeView</strong>控件以树状方式提供导航，<strong>SiteMapPath</strong>提供面包屑导航。</p>
</li>
</ul>
<h2><span id="第六章-验证控件和上传控件">第六章 验证控件和上传控件</span></h2><h3><span id="1-数据验证控件">1. 数据验证控件</span></h3><ul>
<li><p>为了避免异常，在把数据保存到数据库之前，有必要通过技术手段，对有格式要求的数据进行验证。</p>
</li>
<li><p>ASP.NET提供了一系列验证控件，以满足各种格式的验证。</p>
</li>
<li><p>验证控件主要包括5种验证控件和1个汇总控件。</p>
</li>
<li><table>
<thead>
<tr>
<th>控件名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>RequiredFieldValidator</td>
<td>非空格式验证</td>
</tr>
<tr>
<td>RangeValidator</td>
<td>范围验证控件</td>
</tr>
<tr>
<td>CompareValidator</td>
<td>比较验证控件</td>
</tr>
<tr>
<td>RegularExpressionValidator</td>
<td>正则表达式验证控件</td>
</tr>
<tr>
<td>CustomValidator</td>
<td>自定义验证控件</td>
</tr>
<tr>
<td>ValidationSummary</td>
<td>验证信息汇总显示控件</td>
</tr>
</tbody></table>
</li>
<li><p>验证控件首先检查客户端的脚本是否可用。如果可用，将优先使用客户端的脚本进行验证。在客户端验证通过后，页面才提交给服务器，从而减少了对服务器请求的次数，提高了程序的工作效率。</p>
</li>
<li><p>为了确保程序的安全性，在服务器端仍会进行再次验证，从而避免恶意用户绕过客户端向服务器端发送非法数据。</p>
</li>
<li><p>程序会在数据验证控件的验证没有通过时，显示设定的错误信息。</p>
</li>
</ul>
<h4><span id="1-requiredfieldvalidator">1. <strong>RequiredFieldValidator</strong></span></h4><ul>
<li><p><strong>RequiredFieldValidator</strong>控件是最常用的验证控件之一，用于验证必须填写的控件。</p>
</li>
<li><p>在验证的目标控件的输入内容为空时显示错误信息，常常和其他验证控件一起实现有效性验证。</p>
</li>
<li><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ControlToValidate</td>
<td>要验证的控件的ID</td>
</tr>
<tr>
<td>Text</td>
<td>出错时的提示</td>
</tr>
<tr>
<td>ErrorMessage</td>
<td>提交给汇总控件的错误信息。如果Text属性为空，则出错时将显示该信息。</td>
</tr>
<tr>
<td>Display</td>
<td>错误提示文本的显示方式。取值为Static时，无论是否有错误都占据位置，不显示错误时为空白，影响后面内容的位置；取值为Dynamic时，有错误时显示，无错误时不显示且后面的元素占据其位置；取值为None，不管是否存在错误，都不显示错误信息文本</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200606141116078.png" alt="image-20200606141116078"></p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:TextBox ID&#x3D;&quot;txtName&quot; runat&#x3D;&quot;server&quot;&gt;&lt;&#x2F;asp:TextBox&gt;  </span><br><span class="line">              &lt;asp:RequiredFieldValidator ID&#x3D;&quot;RequiredFieldValidator1&quot; runat&#x3D;&quot;server&quot; ErrorMessage&#x3D;&quot;名称必填&quot; Text&#x3D;&quot;*&quot; ControlToValidate&#x3D;&quot;txtName&quot; Display&#x3D;&quot;Dynamic&quot;&gt;&lt;&#x2F;asp:RequiredFieldValidator&gt;</span><br><span class="line">……</span><br><span class="line">&lt;asp:DropDownList ID&#x3D;&quot;ddlBrand&quot; runat&#x3D;&quot;server&quot; Width&#x3D;&quot;250&quot; &gt;&lt;&#x2F;asp:DropDownList&gt;</span><br><span class="line">               &lt;asp:RequiredFieldValidator ID&#x3D;&quot;RequiredFieldValidator2&quot; runat&#x3D;&quot;server&quot; ErrorMessage&#x3D;&quot;品牌必选&quot; Text&#x3D;&quot;*&quot; ControlToValidate&#x3D;&quot;ddlBrand&quot; Display&#x3D;&quot;Dynamic&quot; InitialValue&#x3D;&quot;-1&quot; &gt;&lt;&#x2F;asp:RequiredFieldValidator&gt;</span><br></pre></td></tr></table></figure>

<h4><span id="2-rangevalidator">2. <strong>RangeValidator</strong></span></h4><ul>
<li><p><strong>RangeValidator</strong>控件用于范围检查，常验证输入的值是否在指定的范围之内。</p>
</li>
<li><p><strong>RangeValidator</strong>控件会将目标控件中的值转换成Type指定的类型，然后再查看是否在<strong>MinimumValue</strong>和<strong>MaxinumValue</strong>属性指定的范围之内。</p>
</li>
<li><p>Type属性支持的类型:</p>
</li>
<li><table>
<thead>
<tr>
<th>Type属性值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>String</td>
<td>按字符串比较</td>
</tr>
<tr>
<td>Integer</td>
<td>按整型数据比较</td>
</tr>
<tr>
<td>Double</td>
<td>按double双精度浮点数类型比较</td>
</tr>
<tr>
<td>Date</td>
<td>按日期比较</td>
</tr>
<tr>
<td>Currency</td>
<td>按货币方式比较</td>
</tr>
</tbody></table>
</li>
<li><p><strong>RangeValidator</strong>控件常用于整型或日期类型的比较。</p>
</li>
<li><p>Type默认值是String,如果按照字符串进行位比较，出现的结果可能与预期完全不同，所以，需要特别注意设置Type属性。 </p>
</li>
<li><p><strong>RangeValidator</strong>控件必须在目标控件中有输入值时才进行验证，否则验证控件不会被触发。其他验证控件同样不能在目标控件中输入为空时触发。</p>
</li>
<li><p>目标控件中的值可以与<strong>MinimumValue</strong>和<strong>MaxinumValue</strong>属性的值相等。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200606150626663.png" alt="image-20200606150626663"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:TextBox ID&#x3D;&quot;txtBornDate&quot; runat&#x3D;&quot;server&quot; &gt;&lt;&#x2F;asp:TextBox&gt;</span><br><span class="line">      &lt;asp:RequiredFieldValidator ID&#x3D;&quot;RequiredFieldValidator4&quot;   runat&#x3D;&quot;server&quot; ControlToValidate&#x3D;&quot;txtBornDate&quot; Display&#x3D;&quot;Dynamic&quot; ErrorMessage&#x3D;&quot;出生日期必填&quot; Text&#x3D;&quot;*&quot;&gt;&lt;&#x2F;asp:RequiredFieldValidator&gt;</span><br><span class="line">     &lt;asp:RangeValidator ID&#x3D;&quot;RangeValidator1&quot; runat&#x3D;&quot;server&quot; ErrorMessage&#x3D;&quot;出生日期在1966-1-1到1997-12-31之间&quot; MaximumValue&#x3D;&quot;1997-12-31&quot; MinimumValue&#x3D;&quot;1966-1-1&quot; ControlToValidate&#x3D;&quot;txtBornDate&quot; Type&#x3D;&quot;Date&quot;&gt;&lt;&#x2F;asp:RangeValidator&gt;……</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4><span id="3-comparevalidator">3. <strong>CompareValidator</strong></span></h4><ul>
<li><p><strong>CompareValidator</strong>控件是比较验证控件，可以将目标控件中的值与指定的值或指定控件中的值进行比较。</p>
</li>
<li><p>常用于在用户注册时，前后输入的密码是否一致。</p>
</li>
<li><p><strong>CompareValidator</strong>控件使用<strong>ControlToCompare</strong>属性指定用于比较的控件，使用ValueToCompare属性指定用于比较的值。</p>
</li>
<li><p><strong>CompareValidator</strong>控件的<strong>Operator</strong>属性，用于指定比较的方式。</p>
</li>
<li><table>
<thead>
<tr>
<th>取值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>DataTypeCheck</td>
<td>检查目标控件输入的数据类型是否和Type属性指定的一致</td>
</tr>
<tr>
<td>Equal</td>
<td>检查目标控件和指定值是否相等</td>
</tr>
<tr>
<td>GreaterThan</td>
<td>检查目标控件是否大于指定值</td>
</tr>
<tr>
<td>GreaterThanEqual</td>
<td>检查目标控件是否大于或等于指定值</td>
</tr>
<tr>
<td>LessThan</td>
<td>检查目标控件是否小于指定值</td>
</tr>
<tr>
<td>LessThanEqual</td>
<td>检查目标控件是否小于或等于指定值</td>
</tr>
<tr>
<td>NotEqual</td>
<td>检查目标控件和指定值是否不相等</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200606150903125.png" alt="image-20200606150903125"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:TextBox ID&#x3D;&quot;txtPwd2&quot; runat&#x3D;&quot;server&quot;  TextMode&#x3D;&quot;Password&quot;&gt;&lt;&#x2F;asp:TextBox&gt;</span><br><span class="line">          &lt;asp:RequiredFieldValidator ID&#x3D;&quot;RequiredFieldValidator3&quot; runat&#x3D;&quot;server&quot; ControlToValidate&#x3D;&quot;txtPwd2&quot; Display&#x3D;&quot;Dynamic&quot; ErrorMessage&#x3D;&quot;验证密码必填&quot; Text&#x3D;&quot;*&quot;&gt;&lt;&#x2F;asp:RequiredFieldValidator&gt;</span><br><span class="line">         &lt;asp:CompareValidator ID&#x3D;&quot;CompareValidator1&quot; runat&#x3D;&quot;server&quot; ErrorMessage&#x3D;&quot;密码不一致&quot; ControlToValidate&#x3D;&quot;txtPwd2&quot; ControlToCompare&#x3D;&quot;txtPwd&quot;   Operator&#x3D;&quot;Equal&quot; Type&#x3D;&quot;String&quot;&gt;&lt;&#x2F;asp:CompareValidator&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><img data-src="../images/mdImages/image-20200606150955884.png" alt="image-20200606150955884"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:TextBox ID&#x3D;&quot;txtPrice&quot; runat&#x3D;&quot;server&quot; &gt;&lt;&#x2F;asp:TextBox&gt;</span><br><span class="line">        &lt;asp:RequiredFieldValidator ID&#x3D;&quot;RequiredFieldValidator4&quot; runat&#x3D;&quot;server&quot; ControlToValidate&#x3D;&quot;txtPrice&quot; Display&#x3D;&quot;Dynamic&quot; ErrorMessage&#x3D;&quot;价格必填&quot; Text&#x3D;&quot;*&quot;&gt;&lt;&#x2F;asp:RequiredFieldValidator&gt;</span><br><span class="line">                &lt;asp:CompareValidator ID&#x3D;&quot;CompareValidator1&quot; runat&#x3D;&quot;server&quot; ErrorMessage&#x3D;&quot;价格格式有误&quot; ControlToValidate&#x3D;&quot;txtPrice&quot; Operator&#x3D;&quot;DataTypeCheck&quot; Type&#x3D;&quot;Currency&quot;&gt;&lt;&#x2F;asp:CompareValidator&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4><span id="4-regularexpressionvalidator">4. <strong>RegularExpressionValidator</strong></span></h4><ul>
<li><p><strong>RegularExpressionValidator</strong>控件是正则表达式验证控件。</p>
</li>
<li><p>正则表达式是一种描述格式模式的表达式。</p>
</li>
<li><p><strong>RegularExpressionValidator</strong>控件验证目标控件中输入的值和正则表达式描述的格式是否匹配，例如，验证用户输入的是否是合法的邮箱。</p>
</li>
<li><p><strong>RegularExpressionValidator</strong>控件提供了ValidatorExpression属性，指定匹配目标控件格式的正则表达式。</p>
</li>
<li><p>ASP.NET中内置了几个常用的正则表达式。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200606151125439.png" alt="image-20200606151125439"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:TextBox ID&#x3D;&quot;txtEmail&quot; runat&#x3D;&quot;server&quot; &gt;&lt;&#x2F;asp:TextBox&gt;</span><br><span class="line">                &lt;asp:RequiredFieldValidator ID&#x3D;&quot;RequiredFieldValidator5&quot; runat&#x3D;&quot;server&quot; ControlToValidate&#x3D;&quot;txtEmail&quot; Display&#x3D;&quot;Dynamic&quot; ErrorMessage&#x3D;&quot;Email必填&quot; Text&#x3D;&quot;*&quot;&gt;&lt;&#x2F;asp:RequiredFieldValidator&gt;</span><br><span class="line">                &lt;asp:RegularExpressionValidator ID&#x3D;&quot;RegularExpressionValidator1&quot; runat&#x3D;&quot;server&quot; ErrorMessage&#x3D;&quot;Email格式有误&quot; ControlToValidate&#x3D;&quot;txtEmail&quot; ValidationExpression&#x3D;&quot;\w+([-+.&#39;]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*&quot;&gt;&lt;&#x2F;asp:RegularExpressionValidator&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>内置的正则表达式往往不能满足实际的需求，常用的正则表达式，如下所示。</p>
</li>
<li><table>
<thead>
<tr>
<th>正则表达式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>^[A-Za-z]+$</td>
<td>只能输入由26个英文字母组成的字符串</td>
</tr>
<tr>
<td>^\d{n}$</td>
<td>只能输入n位数字</td>
</tr>
<tr>
<td>^\d{m,n}$</td>
<td>只能输入m~n位数字</td>
</tr>
<tr>
<td>^\d{n,}$</td>
<td>只能输入至少n位数字</td>
</tr>
<tr>
<td>^[\u4e00-\u9fa5]+$</td>
<td>只能输入汉字</td>
</tr>
<tr>
<td>^[1-9][0-9]*$</td>
<td>只能输入正整数</td>
</tr>
<tr>
<td>^(-)?[0-9]+(.[0-9]{2})?$</td>
<td>输入正负整数或小数，小数只能保留2位</td>
</tr>
</tbody></table>
</li>
</ul>
<h4><span id="5-customvalidator">5. <strong>CustomValidator</strong></span></h4><ul>
<li>非空、范围和比较验证控件提供了常用的验证功能，正则表达式控件则基于正则表达式提供了强大的字符串规则验证功能，但仍然无法解决某些验证需求。</li>
<li><strong>CustomValidator</strong>控件是自定义验证控件，可以编写客户端脚本与服务器端脚本对数据进行验证，以确定用户的输入是否通过验证。</li>
<li><strong>CustomValidator</strong>提供了<strong>ClientValidationFunction</strong>属性，指定用于客户端脚本验证的脚本函数，<strong>OnServerValidate</strong>事件，指定服务器端验证的事件方法。</li>
<li><img data-src="../images/mdImages/image-20200606151313165.png" alt="image-20200606151313165"></li>
<li><img data-src="../images/mdImages/image-20200606151323986.png" alt="image-20200606151323986"></li>
<li><img data-src="../images/mdImages/image-20200606151335417.png" alt="image-20200606151335417"></li>
</ul>
<h4><span id="6-validationsummary">6. <strong>ValidationSummary</strong></span></h4><ul>
<li><p>ValidationSummary控件可用于汇总所验证控件的错误报告。</p>
</li>
<li><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>DisplayMode</td>
<td>所有的错误信息显示的模式，包括三种。为List时，显示为列表；为BulletList时，显示为项目符合列表；为SingleParagraph时，显示为单行</td>
</tr>
<tr>
<td>HeaderText</td>
<td>显示在错误信息之前的提示信息</td>
</tr>
<tr>
<td>ShowSummary</td>
<td>是否在ValidationSummary控件处显示</td>
</tr>
<tr>
<td>ShowMessageBox</td>
<td>是否弹出MessageBox显示错误信息</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200606151410977.png" alt="image-20200606151410977"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:ValidationSummary        ID&#x3D;&quot;ValidationSummary1“</span><br><span class="line">           runat&#x3D;&quot;server&quot;  </span><br><span class="line">           DisplayMode&#x3D;&quot;BulletList“</span><br><span class="line">          HeaderText&#x3D;&quot;错误信息有：&quot; </span><br><span class="line">          ShowSummary&#x3D;&quot;false&quot; </span><br><span class="line">          ShowMessageBox&#x3D;&quot;true&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4><span id="7-pageisvalid">7. <strong>Page.IsValid</strong></span></h4><ul>
<li>Page.IsValid是Page对象的IsValid属性。</li>
<li>该属性指示页面是否通过了验证，如果页面中验证控件都通过了验证，则Page.IsValid属性值为true，如果存在任何一个验证控件未通过验证，则Page.IsValid属性值为false。</li>
<li><img data-src="../images/mdImages/image-20200606151508353.png" alt="image-20200606151508353"></li>
<li><img data-src="../images/mdImages/image-20200606151519570.png" alt="image-20200606151519570"></li>
</ul>
<h4><span id="8-禁用验证">8. <strong>禁用验证</strong></span></h4><ul>
<li><p>在某些特定条件下，程序员需要避开验证。</p>
</li>
<li><p>禁用验证的方法：</p>
<ol>
<li><p>设置按钮的“CausesValidation”属性为“false”</p>
</li>
<li><p>将验证控件的“Enable”属性设置为“false”来禁用单个验证控件。</p>
</li>
<li><p>禁用验证控件的客户端验证时，设置验证控件的“EnableClientScript”属性为“false”。</p>
</li>
</ol>
</li>
</ul>
<h4><span id="9-文件上传控件">9. <strong>文件上传控件</strong></span></h4><ul>
<li><p>在ASP.NET中，用于上传文件的控件是FileUpload。</p>
</li>
<li><table>
<thead>
<tr>
<th>成员名称</th>
<th>成员类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>FileName</td>
<td>属性</td>
<td>获取客户端使用FileUpload控件上传的文件名称，不包括路径</td>
</tr>
<tr>
<td>PostedFile</td>
<td>属性</td>
<td>获取客户端使用FileUpload控件上传的文件对象，常利用该对象的SaveAs()方法，进行文件的上传</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200606151658311.png" alt="image-20200606151658311"></p>
</li>
</ul>
<h3><span id="2-总结">2. 总结</span></h3><ul>
<li><p><strong>RequiredFieldValidator</strong>用于验证必须填写的控件，在验证的目标控件的输入内容为空时显示错误信息。</p>
</li>
<li><p><strong>RangeValidator</strong>控件用于范围检查，常验证输入的值是否在指定的范围之内。</p>
</li>
<li><p><strong>CompareValidator</strong>控件是比较验证控件，可以将目标控件中的值与指定的值或指定控件中的值进行比较。</p>
</li>
<li><p><strong>RegularExpressionValidator</strong>控件验证目标控件中输入的值和正则表达式描述的格式是否匹配。</p>
</li>
<li><p><strong>CustomValidator</strong>控件由程序员编写客户端脚本与服务器端脚本对数据进行验证，以确定用户的输入是否通过验证。</p>
</li>
<li><p><strong>ValidationSummary</strong>控件用于汇总所验证控件的错误报告。</p>
</li>
<li><p>使用<strong>FileUpload</strong>控件进行文件的上传。</p>
</li>
</ul>
<h2><span id="第七章-数据绑定和gridview控件">第七章-数据绑定和GridView控件</span></h2><h3><span id="1-数据绑定">1. 数据绑定</span></h3><ul>
<li>通过用户界面（UI）来显示数据，是制作网页时经常需要处理的问题之一。</li>
<li>数据绑定是指将数据源中的数据与页面中的元素进行对应的操作。</li>
<li>用表格来显示数据是网站开发中一个常见需求，一般使用GridView、DataList、Repeater等数据绑定控件。</li>
<li>数据绑定控件用于将指定的数据源按一定的格式呈现在Web页面上。</li>
</ul>
<h4><span id="1-1-数据绑定机制">1-1 数据绑定机制</span></h4><ul>
<li><p>ASP.NET框架提供了数据绑定机制，使我们能快速地将数据源展示在页面上。</p>
</li>
<li><p>假设我们现在需要用下拉列表框显示所有车型的品牌，在没有数据绑定机制的情况下，需要用循环来逐一添加列表框的项。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Brand&gt; brands &#x3D; bm.GetBrands();          </span><br><span class="line">   foreach (Brand each in brands)</span><br><span class="line">   &#123;</span><br><span class="line">      ddlBrand.Items.Add(new ListItem(each.BrandName, each.BrandId.ToString()));</span><br><span class="line">   &#125;</span><br><span class="line">   ddlBrand.Items.Insert(0, new ListItem(&quot;请选择&quot;, &quot;-1&quot;));</span><br></pre></td></tr></table></figure>

<h4><span id="1-2-数据绑定表达式语法">1-2 数据绑定表达式语法</span></h4><ul>
<li><strong>ASP.NET</strong>提供了数据绑定语法，可以将控件属性值绑定到数据。</li>
<li>数据绑定表达式包含在“<strong>&lt;%#</strong>”和“<strong>%&gt;</strong>”之间。</li>
<li>在绑定表达式中，可以使用变量、方法等，在页面处理过程中会执行表达式，将最终的结果呈现在绑定表    达式中。</li>
<li><img data-src="../images/mdImages/image-20200606152234148.png" alt="image-20200606152234148"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:Label  ID&#x3D;&quot;lblShowTime&quot; runat&#x3D;&quot;server&quot; Text&#x3D;&quot;&lt;%#DateTime.Now.ToLongTimeString() %&gt;&quot;&gt;&lt;&#x2F;asp:Label&gt;</span><br><span class="line">&lt;% protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">&#123;</span><br><span class="line">    lblShowTime.DataBind();</span><br><span class="line">&#125; %&gt;</span><br></pre></td></tr></table></figure>

<h3><span id="2-gridview控件">2. GridView控件</span></h3><ul>
<li><p>GridView控件以表格的形式显示数据，功能很强大，除了可以实现数据的展示外，还可以实现分页、排序、编辑、删除等功能。</p>
</li>
<li><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>AllowPaging</td>
<td>获取或设置一个值，该值指示是否启用分页功能</td>
</tr>
<tr>
<td>AllowSorting</td>
<td>获取或设置一个值，该值指示是否启用排序功能</td>
</tr>
<tr>
<td>AutoGenerateColumns</td>
<td>获取或设置一个值，该值指示是否为数据源中的每个字段自动创建绑定字段</td>
</tr>
<tr>
<td>DataKeyNames</td>
<td>获取或设置一个数组，该数组包含了显示在GridView控件中的项的主键字段的名称</td>
</tr>
<tr>
<td>DataKeys</td>
<td>获取一个DataKey对象集合，这些对象表示GridView控件中的每一行的数据键值</td>
</tr>
<tr>
<td>DataSource</td>
<td>获取或设置对象，数据绑定控件从该对象中检索其数据项列表</td>
</tr>
<tr>
<td>HorizontalAlign</td>
<td>获取或设置GridView控件在页面上的水平对齐方式</td>
</tr>
<tr>
<td>SortExpression</td>
<td>获取与正在排序的列关联的排序表达式</td>
</tr>
</tbody></table>
</li>
<li><table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>PageIndexChanging</td>
<td>事件</td>
<td>在GridView控件处理分页操作时发生</td>
</tr>
<tr>
<td>RowDataBound</td>
<td>事件</td>
<td>将数据行绑定到GridView控件中发生</td>
</tr>
<tr>
<td>RowDeleting</td>
<td>事件</td>
<td>单击某一行的“删除”按钮时，在GridView控件删除该行之前发生</td>
</tr>
<tr>
<td>DataBind</td>
<td>方法</td>
<td>将数据源绑定到GridView控件</td>
</tr>
</tbody></table>
</li>
</ul>
<h4><span id="2-1-使用gridview控件呈现数据">2-1 使用GridView控件呈现数据</span></h4><ul>
<li><p><img data-src="../images/mdImages/image-20200606152455870.png" alt="image-20200606152455870"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CarManager cm &#x3D; new CarManager();</span><br><span class="line">    protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!IsPostBack)</span><br><span class="line">        &#123;</span><br><span class="line">            bindCars();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">           List&lt;Car&gt; cars&#x3D;cm.GetCars();</span><br><span class="line">           gvCars.DataSource &#x3D; cars;</span><br><span class="line">           gvCars.DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            lblInfo.Text &#x3D; ex.Message;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4><span id="2-2-手动创建gridview列">2-2 手动创建GridView列</span></h4><ul>
<li>默认情况下，<strong>GridView</strong>的<strong>AutoGenerateColumns</strong>属性值为<strong>true</strong>，会自动为数据源中的每个字段或者对象中的每个属性创建一个<strong>GridView</strong>列。</li>
<li>大部分情况下，需要将<strong>AutoGenerateColumns</strong>属性值为false，然后根据需求手动控制<strong>GridView</strong>的列。</li>
<li><img data-src="../images/mdImages/image-20200606152759530.png" alt="image-20200606152759530"></li>
</ul>
<h4><span id="2-3-boundfield">2-3. BoundField</span></h4><ul>
<li>BoundField列用于显示普通文本，是默认的数据绑定列的类型，一般自动生成的列就是该类型。</li>
</ul>
<ol>
<li><p>DataField属性：指定列绑定的字段名或者属性名。</p>
</li>
<li><p>HeaderText属性：指定列标题</p>
</li>
<li><p>DataFormatString属性：指定数据显示的格式</p>
</li>
</ol>
<ul>
<li><p>{0:C}：设置列的内容格式是货币类型的</p>
</li>
<li><p>{0:D}：设置列的内容是数字</p>
</li>
<li><p>{0：yy-mm-dd}：设置列的内容格式是日期类型的</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200606153936393.png" alt="image-20200606153936393"></p>
</li>
<li><p><img data-src="../images/mdImages/image-20200606153945726.png" alt="image-20200606153945726"></p>
</li>
<li><p><img data-src="../images/mdImages/image-20200606153955806.png" alt="image-20200606153955806"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:GridView ID&#x3D;&quot;gvCars&quot; runat&#x3D;&quot;server&quot; HorizontalAlign&#x3D;&quot;Center&quot; AutoGenerateColumns&#x3D;&quot;False&quot;&gt;</span><br><span class="line">        &lt;Columns&gt;</span><br><span class="line">            &lt;asp:BoundField DataField&#x3D;&quot;CarName&quot; HeaderText&#x3D;&quot;车型名称&quot; &#x2F;&gt;</span><br><span class="line">            &lt;asp:BoundField DataField&#x3D;&quot;CarBrand.BrandName&quot; </span><br><span class="line">                     HeaderText&#x3D;&quot;品牌名称&quot; &#x2F;&gt;</span><br><span class="line">            &lt;asp:BoundField DataField&#x3D;&quot;OfficialPrice&quot; DataFormatString&#x3D;&quot;&#123;0:C&#125;万&quot;                                        HeaderText&#x3D;&quot;官方价格&quot; &#x2F;&gt;</span><br><span class="line">            &lt;asp:BoundField DataField&#x3D;&quot;Click&quot; HeaderText&#x3D;&quot;点击量&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;Columns&gt;</span><br><span class="line">    &lt;&#x2F;asp:GridView&gt;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4><span id="2-4-imagefield">2-4 ImageField</span></h4><ul>
<li>​    <strong>ImageField</strong>可以在<strong>GridView</strong>控件的列中显示图片。</li>
<li><img data-src="../images/mdImages/image-20200617103405648.png" alt="image-20200617103405648"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line">&lt;asp:ImageField DataImageUrlField&#x3D;&quot;Picture“</span><br><span class="line">          DataImageUrlFormatString&#x3D;&quot;~&#x2F;images&#x2F;&#123;0&#125;“</span><br><span class="line">          HeaderText&#x3D;&quot;实物图&quot;&gt;</span><br><span class="line">      &lt;ControlStyle Height&#x3D;&quot;80px&quot; Width&#x3D;&quot;100px&quot; &#x2F;&gt;</span><br><span class="line"> &lt;&#x2F;asp:ImageField&gt;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<h4><span id="2-5-templatefield">2-5 TemplateField</span></h4><ul>
<li><strong>TemplateField</strong>列允许以模板的形式自定义数据绑定列的内容。 </li>
<li>模板字段的添加有两种方式：直接添加或者将现有列转换为模板字段。</li>
<li><img data-src="../images/mdImages/image-20200617103525824.png" alt="image-20200617103525824"></li>
<li>使用直接添加的方式增加<strong>GridView</strong>的第一列即实现多选的列</li>
<li><img data-src="../images/mdImages/image-20200617103615066.png" alt="image-20200617103615066"></li>
<li><img data-src="../images/mdImages/image-20200617103620533.png" alt="image-20200617103620533"></li>
<li><img data-src="../images/mdImages/image-20200617103625290.png" alt="image-20200617103625290"></li>
<li><img data-src="../images/mdImages/image-20200617103631240.png" alt="image-20200617103631240"></li>
<li>添加模板字段也可以将现有列转换为模板字段，假设将车型名称列转换为模板列，在“字段”窗口中，选择“车型名称”列，然后单击“将此字段转换<strong>TemplateField</strong>”链接。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line"> &lt;asp:TemplateField HeaderText&#x3D;&quot;车型名称&quot;&gt;</span><br><span class="line">     &lt;EditItemTemplate&gt;</span><br><span class="line">          &lt;asp:TextBox ID&#x3D;&quot;TextBox1&quot; runat&#x3D;&quot;server&quot; </span><br><span class="line">            Text&#x3D;&#39;&lt;%# Bind(&quot;CarName&quot;) %&gt;&#39;&gt;&lt;&#x2F;asp:TextBox&gt;</span><br><span class="line">     &lt;&#x2F;EditItemTemplate&gt;</span><br><span class="line">     &lt;ItemTemplate&gt;</span><br><span class="line">           &lt;asp:Label ID&#x3D;&quot;Label1&quot; runat&#x3D;&quot;server&quot;    Text&#x3D;&#39;&lt;%#Bind(&quot;CarName&quot;) %&gt;&#39;&gt;&lt;&#x2F;asp:Label&gt;</span><br><span class="line">     &lt;&#x2F;ItemTemplate&gt;</span><br><span class="line">&lt;&#x2F;asp:TemplateField&gt;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<h4><span id="2-6-commandfield">2-6 CommandField</span></h4><ul>
<li><p><strong>CommandField</strong>列提供了用于执行选择、编辑或删除的预定义命令按钮。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617103931004.png" alt="image-20200617103931004"></p>
</li>
<li><p>增加GridView的“删除”列</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617103949948.png" alt="image-20200617103949948"></p>
</li>
<li><p>“删除”列在源文件产生的代码如下所示。</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line">&lt;asp:CommandField </span><br><span class="line">    ButtonType&#x3D;&quot;Button“</span><br><span class="line">    DeleteText&#x3D;&quot;删除“</span><br><span class="line">    HeaderText&#x3D;&quot;删除“</span><br><span class="line">   ShowDeleteButton&#x3D;&quot;True&quot; &#x2F;&gt;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<h4><span id="2-7-hyperlinkfield">2-7 HyperLinkField</span></h4><ul>
<li><strong>HyperLinkField</strong>列允许显示一个超链接。</li>
<li><img data-src="../images/mdImages/image-20200617104046705.png" alt="image-20200617104046705"></li>
<li>在<strong>GridView</strong>中增加一列显示一个指向车型的详细页面的超链接</li>
<li><img data-src="../images/mdImages/image-20200617104137248.png" alt="image-20200617104137248"></li>
<li>“详细”列在源文件中产生的代码如下所示。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line">&lt;asp:HyperLinkField    DataNavigateUrlFields&#x3D;&quot;CarId&quot;  </span><br><span class="line"> Text&#x3D;&quot;详细&quot; DataNavigateUrlFormatString&#x3D;&quot;~&#x2F;DetailCar.aspx?CarId&#x3D;&#123;0&#125;“</span><br><span class="line"> HeaderText&#x3D;&quot;详细&quot; &#x2F;&gt;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<h4><span id="2-8-gridview的分页">2-8 GridView的分页</span></h4><ul>
<li><strong>GridView</strong>自带分页功能，通过设置相关属性并实现分页事件的处理程序就能完成分页功能.</li>
<li><img data-src="../images/mdImages/image-20200617104241059.png" alt="image-20200617104241059"></li>
<li><img data-src="../images/mdImages/image-20200617104258110.png" alt="image-20200617104258110"></li>
</ul>
<h4><span id="2-9-设置gridview的样式">2-9 设置GridView的样式</span></h4><ul>
<li>GridView使用表格显示数据，默认的显示样式，有时不符合我们的需求，可以更改表格的显示样式来美化界面。</li>
<li><img data-src="../images/mdImages/image-20200617104337004.png" alt="image-20200617104337004"></li>
<li>除了使用自带的样式外，还可以自定义<strong>GridView</strong>的显示</li>
<li><img data-src="../images/mdImages/image-20200617104423716.png" alt="image-20200617104423716"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line">&lt;asp:GridView ID&#x3D;&quot;gvCars&quot; runat&#x3D;&quot;server&quot; HorizontalAlign&#x3D;&quot;Center&quot; AutoGenerateColumns&#x3D;&quot;False&quot; style&#x3D;&quot;margin-left: 3px&quot; AllowPaging&#x3D;&quot;True&quot; PageSize&#x3D;&quot;3&quot; BackColor&#x3D;&quot;White&quot; BorderColor&#x3D;&quot;#6666FF&quot; BorderStyle&#x3D;&quot;Dotted&quot; BorderWidth&#x3D;&quot;2px&quot; OnPageIndexChanging&#x3D;&quot;gvCars_PageIndexChanging&quot; Width&#x3D;&quot;700px&quot;&gt;</span><br><span class="line">      &lt;AlternatingRowStyle BackColor&#x3D;&quot;White&quot; &#x2F;&gt;</span><br><span class="line">      &lt;Columns&gt;</span><br><span class="line">           &lt;!—代码省略--&gt;</span><br><span class="line">      &lt;&#x2F;Columns&gt;</span><br><span class="line">      &lt;PagerStyle HorizontalAlign&#x3D;&quot;Center&quot; VerticalAlign&#x3D;&quot;Middle&quot; &#x2F;&gt;</span><br><span class="line">      &lt;RowStyle BackColor&#x3D;&quot;#CCFF33&quot; HorizontalAlign&#x3D;&quot;Center&quot; VerticalAlign&#x3D;&quot;Middle&quot; &#x2F;&gt;</span><br><span class="line">&lt;&#x2F;asp:GridView&gt;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<h3><span id="3-总结">3. <strong>总结</strong></span></h3><ul>
<li><p>ASP.NET框架提供了数据绑定机制，使我们能快速地将数据源展示在页面上。</p>
</li>
<li><p>ASP.NET提供了数据绑定语法，可以将控件属性值绑定到数据，数据绑定表达式包含在“&lt;%#”和“%&gt;”之间。</p>
</li>
<li><p>通过调用<strong>DataBind</strong>()方法计算绑定表达式的值，控件才会显示数据。</p>
</li>
<li><p><strong>GridView</strong>控件以表格的形式显示数据，功能很强大，除了可以实现数据的展示外，还可以实现分页、排序、编辑、删除等功能。</p>
</li>
<li><p>手动添加<strong>GridView</strong>列时，可以选择列的类型有：<strong>BoundField</strong>、<strong>CheckBoxField</strong>、<strong>CommandField</strong>、<strong>HyperLinkField</strong>、<strong>ImageField</strong>、<strong>TemplateField</strong>等。</p>
</li>
<li><p>实现<strong>GridView</strong>的<strong>RowDeleting</strong>事件的处理程序，完成单行删除的功能。</p>
</li>
</ul>
<h2><span id="第八章-gridview控件的使用二">第八章 GridView控件的使用（二）</span></h2><h4><span id="1-gridview控件的编辑功能">1. GridView控件的编辑功能</span></h4><ul>
<li><p>对数据常用的操作除了展示、删除外，还需要能进行修改。</p>
</li>
<li><p>GridView对数据的修改如同Excel电子表格一样方便。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617104857815.png" alt="image-20200617104857815"></p>
</li>
<li><p>实现GridView的编辑功能的基本步骤如下所述</p>
<ol>
<li><p>在数据库中创建存储过程“<strong>usp_UpdateCar</strong>”封装修改指定编号车型的名称、品牌、实物图文件名、官方价格的功能。</p>
</li>
<li><p>在解决方案的数据访问层和逻辑业务层中添加修改车型的方法。</p>
</li>
<li><p>在表示层的“<strong>CarList.aspx</strong>”页面中，添加<strong>GridView</strong>的“编辑”列。</p>
</li>
<li><p>运行“<strong>CarList.aspx</strong>”页面，单击<strong>GridView</strong>某一行的“编辑”按钮，会触发<strong>GridView</strong>的<strong>RowEditing</strong>事件</p>
<ul>
<li><img data-src="../images/mdImages/image-20200617105042535.png" alt="image-20200617105042535"></li>
<li><img data-src="../images/mdImages/image-20200617105425454.png" alt="image-20200617105425454"></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line">&lt;asp:CommandField ButtonType&#x3D;&quot;Button&quot;  EditText&#x3D;&quot;编辑&quot; HeaderText&#x3D;&quot;编辑&quot;   ShowEditButton&#x3D;&quot;True&quot; &#x2F;&gt;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>
</li>
<li><p>点击量在编辑时不可更改，需要设置<strong>ReadOnly</strong>为<strong>true</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:BoundField DataField&#x3D;&quot;Click&quot; HeaderText&#x3D;&quot;点击量&quot;  ReadOnly&#x3D;&quot;true&quot;&#x2F;&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>品牌名称在编辑时，合理的方式是用下拉列表框绑定数据库中所有品牌供用户选择。</p>
<ul>
<li><img data-src="../images/mdImages/image-20200617105625790.png" alt="image-20200617105625790"></li>
<li>修改<strong>EditItemTemplate</strong>模板，替换文本框为下拉列表框</li>
<li><img data-src="../images/mdImages/image-20200617105703069.png" alt="image-20200617105703069"></li>
<li><img data-src="../images/mdImages/image-20200617105710452.png" alt="image-20200617105710452"></li>
</ul>
</li>
<li><p>实物图在编辑时，用FileUpLoad控件替换TextBox，供用户选择要修改的实物图。</p>
<ul>
<li><p><img data-src="../images/mdImages/image-20200617105826213.png" alt="image-20200617105826213"></p>
</li>
<li><p>修改<strong>EditItemTemplate</strong>模板，替换文本框为文件上传控件<strong>FileUpLoad</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:TemplateField HeaderText&#x3D;&quot;实物图&quot;&gt;</span><br><span class="line">     &lt;EditItemTemplate&gt;</span><br><span class="line">       &lt;asp:FileUpload ID&#x3D;&quot;fuPic&quot; runat&#x3D;&quot;server&quot; Width&#x3D;&quot;190&quot; Height&#x3D;&quot;30&quot; &#x2F;&gt;</span><br><span class="line">       &lt;asp:HiddenField ID&#x3D;&quot;hfPic&quot; runat&#x3D;&quot;server&quot; </span><br><span class="line">          Value&#x3D;&#39;&lt;%# Eval(&quot;Picture&quot;)%&gt;&#39; &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;EditItemTemplate&gt;</span><br><span class="line">      &lt;ItemTemplate&gt;</span><br><span class="line">        &lt;asp:Image ID&#x3D;&quot;Image1&quot; runat&#x3D;&quot;server&quot;</span><br><span class="line">         ImageUrl&#x3D;&#39;&lt;%# Eval(&quot;Picture&quot;, &quot;~&#x2F;images&#x2F;&#123;0&#125;&quot;) %&gt;&#39; </span><br><span class="line">Height&#x3D;&quot;80px&quot; Width&#x3D;&quot;100px&quot;  &#x2F;&gt;</span><br><span class="line">      &lt;&#x2F;ItemTemplate&gt;</span><br><span class="line"> &lt;&#x2F;asp:TemplateField&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><img data-src="../images/mdImages/image-20200617105911612.png" alt="image-20200617105911612"></p>
</li>
</ul>
</li>
<li><p>单击处于编辑状态行中的“更新”按钮，会触发<strong>GridView</strong>的<strong>RowUpdating</strong>事件，编写该事件的处理程序，实现如果用户选择了新的实物图那么上传图片到服务器和把数据更新到数据库中的功能。</p>
</li>
<li><p>单击处于编辑状态行中的“取消”按钮，会触发<strong>GridView</strong>的<strong>RowCancelingEdit</strong>事件，编写该事件的处理程序，实现取消编辑状态的功能。</p>
</li>
</ol>
</li>
</ul>
<h4><span id="2-高亮显示鼠标悬浮的行数据">2. 高亮显示鼠标悬浮的行数据</span></h4><ul>
<li><p>高亮显示鼠标悬浮的行数据其实就是改变行的背景色。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617110043849.png" alt="image-20200617110043849"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;绑定每条记录时</span><br><span class="line">    protected void gvCars_RowDataBound(object sender, GridViewRowEventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        if (e.Row.RowType &#x3D;&#x3D; DataControlRowType.DataRow)</span><br><span class="line">        &#123;</span><br><span class="line">         &#x2F;&#x2F;为了实现鼠标离开时恢复背景色，使用currentcolor变量保存行本来的背景色        e.Row.Attributes.Add(&quot;onmouseover&quot;,</span><br><span class="line">                                   &quot;currentcolor&#x3D;this.style.backgroundColor;</span><br><span class="line">                                   this.style.backgroundColor&#x3D;&#39;#6699ff&#39;;&quot;);</span><br><span class="line">  e.Row.Attributes.Add(&quot;onmouseout&quot;,                                    &quot;this.style.backgroundColor&#x3D;currentcolor;&quot;);</span><br><span class="line"> </span><br><span class="line">            &#x2F;&#x2F;其他代码省略</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4><span id="3-detailsview控件">3. DetailsView控件</span></h4><ul>
<li><p><strong>DetailsView</strong>控件以表格形式（table标签）一次仅显示数据源的单条记录，并且table标签下的每行（tr标签）表示记录中的一个字段。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617110204329.png" alt="image-20200617110204329"></p>
</li>
<li><p>使用<strong>DetailsView</strong>控件完成车型的详细页面的步骤：</p>
<ol>
<li><p>在数据访问层和业务逻辑层，添加方法封装根据编号查询车型的功能。</p>
<ul>
<li><img data-src="../images/mdImages/image-20200617110336449.png" alt="image-20200617110336449"></li>
</ul>
</li>
<li><p>在页面的后置代码中，<strong>DetailsView</strong>控件绑定数据源的代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> CarManager cm &#x3D; new CarManager();</span><br><span class="line">    public void bindCar(int id)</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">           List&lt;Car&gt; cars&#x3D;cm.GetCarsById(id); </span><br><span class="line">           dvCar.DataSource &#x3D; cars;&#x2F;&#x2F;设置需要检索的数据项</span><br><span class="line">           dvCar.DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">          Page.ClientScript.RegisterStartupScript(this.GetType(), &quot;myScript&quot;, &quot;alert(&#39;&quot; + ex.Message + &quot;&#39;)&quot;, true); &#x2F;&#x2F;弹出消息框，提示异常信息</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><img data-src="../images/mdImages/image-20200617110437096.png" alt="image-20200617110437096"></li>
</ul>
</li>
</ol>
</li>
<li><p>手动创建<strong>DetailsView</strong>控件的行</p>
<ul>
<li><p><strong>DetailsView</strong>控件能自动产生行，数据行有两列，第一列显示记录的字段名，第二列显示该字段的数据。</p>
</li>
<li><p>设置“<strong>AutoGenerateRows</strong>”属性为“<strong>false</strong>”，手动添加每行，行的类型如同<strong>GridView</strong>字段的类型。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617110625845.png" alt="image-20200617110625845"></p>
</li>
<li><p>同<strong>GridView</strong>控件一样，通过编辑其<strong>EditItemTemplate</strong>来控制编辑功能界面中显示的控件。</p>
</li>
<li><p>单击“编辑”按钮，会触发<strong>DetailsView</strong>控件的<strong>ModeChanging</strong>事件，编写此事件的处理程序，完成使<strong>DetailsView</strong>控件切换到编辑状态的功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> protected void dvCar_ModeChanging(object sender, DetailsViewModeEventArgs e) &#123;</span><br><span class="line">        &#x2F;&#x2F;当点击&quot;编辑”时，e.NewMode传递给ChangeMode方法，切换到编辑界面</span><br><span class="line">        dvCar.ChangeMode(e.NewMode);</span><br><span class="line">        bindCar(Convert.ToInt32(dvCar.DataKey.Value));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><img data-src="../images/mdImages/image-20200617110752130.png" alt="image-20200617110752130"></p>
</li>
<li><p>当单击编辑状态下的“更新”按钮，会触发DetailsView控件的ItemUpdating事件。</p>
</li>
<li><p>编写事件的处理程序完成如果用户选择了新的实物图那么上传图片到服务器和把数据更新到数据库中的功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protected void dvCar_ItemUpdating(object sender, DetailsViewUpdateEventArgs e)</span><br><span class="line"> &#123;</span><br><span class="line">       &#x2F;&#x2F;代码省略……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>为了完成DetailsView控件的插入数据的功能，需要编辑“InsertItemTemplate”模板，并添加验证控件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;InsertItemTemplate&gt;</span><br><span class="line">         &lt;asp:TextBox ID&#x3D;&quot;txtAddCarName&quot; runat&#x3D;&quot;server&quot; </span><br><span class="line">                  Text&#x3D;&#39;&lt;%# Bind(&quot;CarName&quot;) %&gt;&#39;&gt;</span><br><span class="line">        &lt;&#x2F;asp:TextBox&gt;</span><br><span class="line">          &lt;asp:RequiredFieldValidator ID&#x3D;&quot;RequiredFieldValidator1&quot;                               runat&#x3D;&quot;server&quot; </span><br><span class="line">            ErrorMessage&#x3D;&quot;车型名称必填&quot; </span><br><span class="line">            Text&#x3D;&quot;*&quot; ControlToValidate&#x3D;&quot;txtAddCarName&quot;&gt;</span><br><span class="line">        &lt;&#x2F;asp:RequiredFieldValidator&gt;</span><br><span class="line">&lt;&#x2F;InsertItemTemplate&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在“<strong>DetailCar.aspx</strong>”页面，单击“添加”按钮，会触发执行<strong>DetailsView</strong>控件的<strong>ModeChanging</strong>事件方法。</p>
</li>
<li><p>在事件方法中，切换<strong>DetailsView</strong>的状态是添加数据状态，即显示的是<strong>InsertItemTemplate</strong>模板的内容。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617110909364.png" alt="image-20200617110909364"></p>
</li>
<li><p>在<strong>DetailsView</strong>处于添加数据状态时， 单击“增加”按钮，当验证都通过后，会触发<strong>DetailsView</strong>控件的<strong>ItemInserting</strong>事件。</p>
</li>
<li><p>编写该事件的程序处理，实现上传实物图到到服务器和插入新记录到数据库的功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">protected void dvCar_ItemInserting(object sender, DetailsViewInsertEventArgs e)</span><br><span class="line"> &#123;</span><br><span class="line">      &#x2F;&#x2F;代码省略……</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4><span id="总结">总结</span></h4><ul>
<li><p><strong>RowDataBound</strong>事件在 <strong>GridView</strong> 控件中的某个行被绑定到一个数据记录时发生。此事件通常用于在某个行被绑定到数据时修改该行的内容。</p>
</li>
<li><p><strong>RowEditing</strong>事件在单击 <strong>GridView</strong> 控件内某一行的 <strong>Edit</strong> 按钮时发生，实现使所在的行处于编辑状态的功能。</p>
</li>
<li><p><strong>RowUpdating</strong>事件在单击 <strong>GridView</strong> 控件内某一行的 <strong>Update</strong> 按钮时发生，实现把新的数据更新到数据库中的功能。</p>
</li>
<li><p><strong>RowCancelingEdit</strong>事件在单击 <strong>GridView</strong> 控件内某一行的 <strong>Cancel</strong> 按钮时发生，实现使 <strong>GridView</strong> 控件退出编辑模式。</p>
</li>
<li><p>与修改GridView的显示界面类似，在<strong>DetailsView</strong>中可以通过修改Fields属性来增加和减少显示的字段、修改字段的标题，使用模板页指定<strong>DetailsView</strong>控件处于不同状态下的内容。</p>
</li>
<li><p><strong>DetailsView</strong>有三种显示状态：Edit编辑状态、<strong>Insert</strong>添加状态和<strong>ReadOnly</strong>只读状态，三种状态保存在枚举类型<strong>DetailsViewMode</strong>中。调用<strong>DetailsView</strong>的<strong>ChangeMode</strong>方法并传递状态枚举值时，将 <strong>DetailsView</strong> 控制切换到指定的模式</p>
</li>
<li><p><strong>ModeChanging</strong>事件是在单击<strong>DetailsView</strong>控件的“Edit”按钮时发生，实现使<strong>DetailsView</strong>控件切换到编辑状态的功能。</p>
</li>
<li><p><strong>ItemUpdating</strong>事件是在单击<strong>DetailsView</strong>控件的编辑状态下的“<strong>Update</strong>”按钮时发生，实现把数据更新到数据库中的功能。</p>
</li>
<li><p><strong>ItemInserting</strong>事件是在单击<strong>DetailsView</strong>处于添加数据状态下的 “<strong>Insert</strong>”按钮时发生，实现添加新记录到数据库的功能。</p>
</li>
</ul>
<h2><span id="第九章-使用datalist和repeater绑定数据">第九章 使用DataList和Repeater绑定数据</span></h2><h3><span id="1-datalist控件的使用">1. DataList控件的使用</span></h3><ul>
<li><p>在用ASP.NET开发Web应用程序时，<strong>DataList</strong>是非常重要的数据绑定控件。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617111506986.png" alt="image-20200617111506986"></p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617111525702.png" alt="image-20200617111525702"></p>
</li>
<li><p>展示每个车型的结构都是重复的，只是数据不同。 </p>
</li>
<li><p>每个车型的信息用一个复杂的小表格进行布局。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617111646414.png" alt="image-20200617111646414"></p>
</li>
<li><p><strong>DataList</strong>控件可用于创建模板化的列表数据，可用于设计任何重复结构中的数据。</p>
</li>
<li><table>
<thead>
<tr>
<th>属性名称</th>
<th>说 明</th>
</tr>
</thead>
<tbody><tr>
<td>ItemTemplate</td>
<td>项模板，标记了每项显示的内容</td>
</tr>
<tr>
<td>AlternatingItemTemplate</td>
<td>交替项模板，可设置交替行显示不同的风格，不设置时，与项模板相同</td>
</tr>
<tr>
<td>SelectedItemTemplate</td>
<td>选中项模板，设置选中后的特殊样式</td>
</tr>
<tr>
<td>EditItemTemplate</td>
<td>编辑项模板</td>
</tr>
<tr>
<td>HeaderTemplate  和  FooterTemplate</td>
<td>页眉和页脚的模板</td>
</tr>
<tr>
<td>SeparatorTemplate</td>
<td>分隔符模板，一般用&lt;hr&gt;(一条直线)</td>
</tr>
</tbody></table>
</li>
</ul>
<ol>
<li><p>将<strong>DataList</strong>控件拖入到前台页面“<strong>CarList.aspx</strong>”中，并设置其ID属性为“<strong>dlCars</strong>“。</p>
</li>
<li><p>在后置代码中编写<strong>DataList</strong>绑定数据源的代码。</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">CarManager cm &#x3D; new CarManager();</span><br><span class="line">    private void bindCars()</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;&#x2F;&#x2F;调用业务逻辑层查询所有车型信息的方法</span><br><span class="line">            List&lt;Car&gt; cars &#x3D; cm.GetCars();</span><br><span class="line">            dlCars.DataSource &#x3D; cars;</span><br><span class="line">            dlCars.DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">       ……</span><br><span class="line">&#125;</span><br><span class="line">protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!IsPostBack)</span><br><span class="line">        &#123;</span><br><span class="line">            bindCars();</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li><p>为<strong>DataList</strong>绑定数据源后，显然它不像<strong>GridView</strong>控件那样会自动产生列从而显示一个表格，而是需要编辑模板。</p>
<ul>
<li><img data-src="../images/mdImages/image-20200617111837221.png" alt="image-20200617111837221"></li>
</ul>
</li>
<li><p>编辑<strong>DataList</strong>的<strong>ItemTemplate</strong>和<strong>SeparatorTemplate</strong>模板。</p>
<p>●<img data-src="../images/mdImages/image-20200617111928032.png" alt="image-20200617111928032"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:DataList ID&#x3D;&quot;dlCars&quot; runat&#x3D;&quot;server&quot;&gt;</span><br><span class="line">            &lt;ItemTemplate&gt;</span><br><span class="line">              &lt;table class&#x3D;&quot;tblCar&quot;&gt;</span><br><span class="line">                ……</span><br><span class="line">             &lt;&#x2F;table&gt;</span><br><span class="line">            &lt;&#x2F;ItemTemplate&gt;</span><br><span class="line">             &lt;SeparatorTemplate&gt;&lt;hr &#x2F;&gt;&lt;&#x2F;SeparatorTemplate&gt;</span><br><span class="line">        &lt;&#x2F;asp:DataList&gt;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3><span id="2-datalist控件的重要属性">2. DataList控件的重要属性</span></h3><table>
<thead>
<tr>
<th>属性名称</th>
<th>说 明</th>
</tr>
</thead>
<tbody><tr>
<td>RepeatColumns</td>
<td>显示的列数。默认为0，表示单行或单列显示</td>
</tr>
<tr>
<td>RepeatDirection</td>
<td>获取或设置DataList的显示方向，Horizontal：水平，Vertical：垂直</td>
</tr>
<tr>
<td>DataKeyField</td>
<td>获取或设置指定的数据源中的键字段</td>
</tr>
<tr>
<td>DataKeys</td>
<td>获取每个记录的键值</td>
</tr>
</tbody></table>
<ul>
<li>设置<strong>DataList</strong>的<strong>RepeatDirection</strong>属性为“<strong>Horizontal</strong>”， <strong>RepeatColumns</strong>属性为“3”。</li>
<li><img data-src="../images/mdImages/image-20200617112017846.png" alt="image-20200617112017846"></li>
<li><strong>DataList</strong>控件没有内置分页的功能，它将显示所有数据源提供的所有数据。</li>
<li>为<strong>DataList</strong>控件分页需要借助于<strong>PagedDataSource</strong>控件。</li>
<li><strong>PagedDataSource</strong>控件的作用是将其他数据源提供的数据进行分页后提供给数据绑定控件。</li>
</ul>
<h3><span id="3-实现datalist控件的分页">3. 实现DataList控件的分页</span></h3><ul>
<li><p><strong>DataList</strong>控件使用<strong>PagedDataSource</strong>完成分页需要实现以下4个步骤：</p>
<ol>
<li><p>创建<strong>PagedDataSource</strong>控件实例。</p>
</li>
<li><p>设置<strong>PagedDataSource</strong>实例的<strong>AllowPaging</strong>、<strong>PageSize</strong>、<strong>CurrentPageIndex</strong>和<strong>DataSource</strong>属性。</p>
</li>
<li><p>设置<strong>DataList</strong>控件的<strong>DataSource</strong>属性值为<strong>PagedDataSource</strong>实例。</p>
</li>
<li><p>调用<strong>DataList</strong>控件的<strong>DataBind</strong>方法。</p>
</li>
</ol>
</li>
<li><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>CurrentPageIndex</td>
<td>当前页码</td>
</tr>
<tr>
<td>PageCount</td>
<td>总页数</td>
</tr>
<tr>
<td>Count</td>
<td>总记录数</td>
</tr>
<tr>
<td>PageSize</td>
<td>每页记录数</td>
</tr>
<tr>
<td>DataSource</td>
<td>数据源</td>
</tr>
<tr>
<td>Allowpaging</td>
<td>是否实现自动分页功能</td>
</tr>
</tbody></table>
</li>
<li><p><img data-src="../images/mdImages/image-20200617112205956.png" alt="image-20200617112205956"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">private void bindCars()</span><br><span class="line">    &#123;</span><br><span class="line">        try</span><br><span class="line">        &#123;</span><br><span class="line">            List&lt;Car&gt; cars &#x3D; cm.GetCars();</span><br><span class="line">            PagedDataSource pds &#x3D; new PagedDataSource();</span><br><span class="line">            pds.DataSource &#x3D; cars;</span><br><span class="line">            pds.AllowPaging &#x3D; true;</span><br><span class="line">            pds.PageSize &#x3D; 3;</span><br><span class="line">            pds.CurrentPageIndex &#x3D; 0;</span><br><span class="line">            dlCars.DataSource &#x3D; pds;</span><br><span class="line">            dlCars.DataBind();</span><br><span class="line">        &#125;</span><br><span class="line">        catch (Exception ex)</span><br><span class="line">        &#123;</span><br><span class="line">            Page.ClientScript.RegisterStartupScript(this.GetType(), &quot;myScript&quot;, &quot;alert(&#39;&quot; + ex.Message + &quot;&#39;)&quot;, true);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>DataList</strong>显示了第1页的3项数据，为了完成翻页的功能，需要添加翻页使用的按钮或者链接。</p>
</li>
<li><p>为了简化翻页，我们使用<strong>AspNetPager</strong>控件。</p>
<ol>
<li><p>从网络上下载“<strong>AspNetPager.dll</strong>”。</p>
</li>
<li><p>在<strong>Visual Studio</strong>的工具箱中单击鼠标右键，在菜单中选择“选择项” &gt;  “选择工具箱项” &gt;  “浏览” ，选择下载的“<strong>AspNetPager.dll</strong>”文件 &gt; “确定”。</p>
</li>
<li><p>从工具箱中拖出<strong>AspNetPager</strong>控件到页面中。</p>
</li>
</ol>
</li>
<li><p>源文件在Page指令下自动产生注册<strong>AspNetPager</strong>的代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ Register Assembly&#x3D;&quot;AspNetPager&quot; Namespace&#x3D;&quot;Wuqi.Webdiyer&quot; TagPrefix&#x3D;&quot;webdiyer&quot; %&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>AspNetPager</strong>控件的标签代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;webdiyer:AspNetPager ID&#x3D;&quot;AspNetPager1&quot; runat&#x3D;&quot;server&quot;&gt;</span><br><span class="line"> &lt;&#x2F;webdiyer:AspNetPager&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>为了实现AspNetPager控件分页导航的功能，必须初始化它的相关属性。</p>
</li>
<li><table>
<thead>
<tr>
<th>属性</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>CurrentPageIndex</td>
<td>获取或设置当前显示页的索引，从1开始</td>
</tr>
<tr>
<td>PageSize</td>
<td>获取或设置每页显示的项数</td>
</tr>
<tr>
<td>RecordCount</td>
<td>获取或设置总记录条数</td>
</tr>
</tbody></table>
</li>
<li><p><strong>AspNetPager</strong>控件通过<strong>PageSize</strong>和<strong>ReCordCount</strong>属性来计算显示所有数据需要的总页数，并保存到<strong>AspNetPager</strong>控件的<strong>PageCount</strong>属性中。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617112517116.png" alt="image-20200617112517116"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line"> protected void Page_Load(object sender, EventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        if (!IsPostBack)</span><br><span class="line">        &#123;</span><br><span class="line">            &#x2F;&#x2F;初始化AspNetPager控件的属性</span><br><span class="line">            AspNetPager1.CurrentPageIndex &#x3D; 0;&#x2F;&#x2F;当前页码</span><br><span class="line">            AspNetPager1.PageSize &#x3D; 3;&#x2F;&#x2F;每页显示的项数</span><br><span class="line">         List&lt;Car&gt; cars &#x3D; cm.GetCars();</span><br><span class="line">         AspNetPager1.RecordCount &#x3D; cars.Count ;&#x2F;&#x2F;设置总记录数</span><br><span class="line">            bindCars();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>
</li>
<li><p><img data-src="../images/mdImages/image-20200617112553796.png" alt="image-20200617112553796"></p>
</li>
<li><p>当单击页码时，会触发<strong>AspNetPager</strong>控件的<strong>PageChanging</strong>事件，编写该事件的处理程序，实现设置<strong>AspNetPager</strong>控件的当前页码并重新绑定<strong>DataList</strong>的数据。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617112613421.png" alt="image-20200617112613421"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line">protected void AspNetPager1_PageChanging(object src, Wuqi.Webdiyer.PageChangingEventArgs e)</span><br><span class="line">&#123;</span><br><span class="line">        AspNetPager1.CurrentPageIndex &#x3D; e.NewPageIndex;</span><br><span class="line">        bindCars();</span><br><span class="line">&#125;</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3><span id="4-repeater控件的使用">4. Repeater控件的使用</span></h3><ul>
<li><p><strong>Repeater</strong>控件专门用于精确内容的显示，它也是基于模板的方式，不过它不会自动生成任何用于布局的代码。</p>
</li>
<li><p><strong>Repeater</strong>控件甚至没有一个默认的外观，它完全是通过模板来控制。而且也只能通过源代码视图进行模板的编辑。</p>
</li>
<li><p><strong>Repeater</strong>控件和<strong>DataList</strong>控件相比，可用模板更少，没有编辑和选择模板。 </p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617112710962.png" alt="image-20200617112710962"></p>
</li>
<li><p>使用<strong>Repeater</strong>控件呈现数据</p>
<ul>
<li><p><strong>GridView</strong>和<strong>DataList</strong>自动生成&lt;<strong>table</strong>&gt;标签，但是<strong>Repeater</strong>控件不会自动生成任何HTML标签，所以带来了效率上的提升，也使精确展示内容成为可能。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617112828793.png" alt="image-20200617112828793"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;asp:Repeater ID&#x3D;&quot;repeaterCar&quot; runat&#x3D;&quot;server&quot;&gt;</span><br><span class="line">            &lt;HeaderTemplate&gt;</span><br><span class="line">                &lt;table class&#x3D;&quot;cartab&quot;&gt; ……</span><br><span class="line">           &lt;&#x2F;HeaderTemplate&gt;</span><br><span class="line">            &lt;ItemTemplate&gt;</span><br><span class="line">                &lt;tr&gt;</span><br><span class="line">                    &lt;td&gt;&lt;%#Eval(&quot;CarName&quot;) %&gt;&lt;&#x2F;td&gt;</span><br><span class="line">                    ……</span><br><span class="line">&lt;td&gt;&lt;a href&#x3D;&#39;DetailCar.aspx?CarId&#x3D;&lt;%#Eval(&quot;CarId&quot;) %&gt;&#39;&gt;&lt;img src&#x3D;&#39;&lt;%# Eval(&quot;Picture&quot;, &quot;images&#x2F;&#123;0&#125;&quot;) %&gt;&#39;  width&#x3D;&quot;100&quot; height&#x3D;&quot;80&quot;&#x2F;&gt;&lt;&#x2F;a&gt;&lt;&#x2F;td&gt;</span><br><span class="line">                    &lt;td&gt;</span><br><span class="line">                        &lt;asp:Button ID&#x3D;&quot;btnDel&quot; runat&#x3D;&quot;server&quot; Text&#x3D;&quot;删除&quot; &#x2F;&gt;</span><br><span class="line">                        &lt;asp:Button ID&#x3D;&quot;btnEdit&quot; runat&#x3D;&quot;server&quot; Text&#x3D;&quot;编辑&quot; &#x2F;&gt;&lt;&#x2F;td&gt;&lt;&#x2F;tr&gt;</span><br><span class="line">      &lt;&#x2F;ItemTemplate&gt;</span><br><span class="line">            &lt;AlternatingItemTemplate&gt;</span><br><span class="line">                   &lt;tr class&#x3D;“atrow”&gt;</span><br><span class="line">                      ……</span><br><span class="line">                   &lt;&#x2F;tr&gt;</span><br><span class="line">            &lt;&#x2F;AlternatingItemTemplate&gt;</span><br><span class="line">            &lt;FooterTemplate&gt;</span><br><span class="line">                &lt;&#x2F;table&gt;</span><br><span class="line">            &lt;&#x2F;FooterTemplate&gt;</span><br><span class="line">        &lt;&#x2F;asp:Repeater&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>一个完整的表格标签&lt;table&gt;、&lt;tr&gt;、&lt;td&gt;可以分散到Repeater标签的各个模板中。</strong></p>
</li>
<li><p><strong>Repeater</strong>控件在呈现数据时没有内置分页功能，它将呈现数据源提供的所有数据。</p>
</li>
<li><p>实现<strong>Repeater</strong>的分页方法和<strong>DataList</strong>一样，只不过呈现数据的载体不一样而已。</p>
</li>
</ul>
</li>
<li><p>处理<strong>Repeater</strong>控件中的按钮事件</p>
<ul>
<li><p><strong>Repeater</strong>控件不支持编辑、删除、排序等功能，所有的事件必须自行编写代码处理。</p>
</li>
<li><p>当点击<strong>Repeater</strong>中的按钮控件时会触发<strong>Repeater</strong>控件的<strong>ItemCommand</strong>事件。 </p>
</li>
<li><p>为了标识单击的按钮，可以设置按钮的<strong>CommandName</strong>属性。 </p>
</li>
<li><p>在进行删除或者编辑操作时，都需要本行车型的编号，可以设置按钮的<strong>CommandArgument</strong>属性来保存本行的车型编号。</p>
</li>
<li><p><img data-src="../images/mdImages/image-20200617113000123.png" alt="image-20200617113000123"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">……</span><br><span class="line">&lt;asp:Button ID&#x3D;&quot;btnDel&quot; runat&#x3D;&quot;server&quot; Text&#x3D;&quot;删除&quot; CommandName&#x3D;&quot;del&quot; CommandArgument&#x3D;&#39;&lt;%# Eval(&quot;CarId&quot;) %&gt;&#39; &#x2F;&gt;</span><br><span class="line">  &lt;asp:Button ID&#x3D;&quot;btnEdit&quot; runat&#x3D;&quot;server&quot; Text&#x3D;&quot;编辑&quot;  CommandName&#x3D;&quot;edit&quot; CommandArgument&#x3D;&#39;&lt;%# Eval(&quot;CarId&quot;) %&gt;&#39;&#x2F;&gt;</span><br><span class="line">……---------------------------------------------------------------</span><br><span class="line">protected void repeaterCar_ItemCommand(object source, RepeaterCommandEventArgs e)</span><br><span class="line">    &#123;</span><br><span class="line">        int carId &#x3D;Convert.ToInt32(e.CommandArgument);</span><br><span class="line">        string name &#x3D; e.CommandName.ToLower();</span><br><span class="line">        switch (name)</span><br><span class="line">        &#123;</span><br><span class="line">            case &quot;del&quot;: Page.ClientScript.RegisterStartupScript(Page.GetType(), &quot;myScript&quot;, &quot;alert(&#39;删除编号是：&quot;+carId+&quot;的车型&#39;)&quot;, true); break;</span><br><span class="line">            case &quot;edit&quot;: Page.ClientScript.RegisterStartupScript(Page.GetType(), &quot;myScript&quot;, &quot;alert(&#39;修改编号是：&quot; + carId + &quot;的车型&#39;)&quot;, true); break;</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3><span id="总结">总结</span></h3><ul>
<li><p><strong>DataList</strong>控件可用于创建模板化的列表数据，可用于设计任何重复结构中的数据。</p>
</li>
<li><p>实现<strong>DataList</strong>控件的分页需要借助于<strong>PagedDataSource</strong>控件</p>
</li>
<li><p><strong>Repeater</strong>控件不会自动生成任何HTML标签，所以带来了效率上的提升，也使精确展示内容成为可能。</p>
</li>
<li><p>实现<strong>Repeater</strong>的分页方法和<strong>DataList</strong>一样，可以使用<strong>PagedDataSource</strong>也可以调用存储过程实现，只不过呈现数据的载体不一样而已。</p>
</li>
<li><p>当点击<strong>Repeater</strong>中的按钮控件时会触发<strong>Repeater</strong>控件的<strong>ItemCommand</strong>事件。</p>
</li>
<li><p>设置<strong>CommandName</strong>属性来标识<strong>Repeater</strong>控件中的按钮。</p>
</li>
<li><p>设置按钮的<strong>CommandArgument</strong>属性来标识需要被操作的数据，可能是主键。</p>
</li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/ASP-NET/" rel="tag"><i class="fa fa-tag"></i> ASP.NET</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/python-note/" rel="prev" title="python-note">
      <i class="fa fa-chevron-left"></i> python-note
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#"><span class="nav-text">ASP.NET知识点</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第一章 ASP.NET简介</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第二章  ASP.NET中的控件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">1. 控件分类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">2. 页面回发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">3. 常用控件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">1. Label控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2. TextBox控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">3. Image控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">4. HyperLink控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">5. RadioButton控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">6. CheckBox控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">7. 列表控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">8. HiddenField控件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">4. 服务器控件的客户端事件处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">5. 总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第三章 ASP.NET系统对象与状态管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">1. 系统对象的概念</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">1. Page对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2. Response对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">3. Server对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">4. ASP.NET中的状态管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">5. Cookie对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">6. Session对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">7. Application对象</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">8. 状态管理技术的区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">2. 总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第四章 基于三层架构搭建系统</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">1. 为什么需要分层架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">2. 三层结构的优势</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">3. 模型层</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">3-1 创建模型层</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">4. 数据访问层</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">4-1 创建数据访问层</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">4-2 添加依赖</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">5. 业务逻辑层</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">5-1 创建业务逻辑层</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">5-2 添加依赖</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">6. 表示层</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">6-1 创建表示层</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">6-2 添加依赖</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">7. 目录结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">8. 总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第五章 搭建风格统一的Web站点</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">1. 母版页</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">2. 母版页的优点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">3. 创建母版页</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">3-1 母版页的源文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">3-2 普通页面与母版页的区别</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">4. 创建内容页</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">4-1 新创建的内容页代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">4-2 将现有页面改为内容页</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">5. 站点地图</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">6. TreeView控件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">7. SiteMapPath</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">8. 总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第六章 验证控件和上传控件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">1. 数据验证控件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">1. RequiredFieldValidator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2. RangeValidator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">3. CompareValidator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">4. RegularExpressionValidator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">5. CustomValidator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">6. ValidationSummary</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">7. Page.IsValid</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">8. 禁用验证</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">9. 文件上传控件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">2. 总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第七章-数据绑定和GridView控件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">1. 数据绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">1-1 数据绑定机制</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">1-2 数据绑定表达式语法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">2. GridView控件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-1 使用GridView控件呈现数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-2 手动创建GridView列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-3. BoundField</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-4 ImageField</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-5 TemplateField</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-6 CommandField</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-7 HyperLinkField</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-8 GridView的分页</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2-9 设置GridView的样式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">3. 总结</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第八章 GridView控件的使用（二）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">1. GridView控件的编辑功能</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">2. 高亮显示鼠标悬浮的行数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">3. DetailsView控件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-text">总结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-text">第九章 使用DataList和Repeater绑定数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">1. DataList控件的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">2. DataList控件的重要属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">3. 实现DataList控件的分页</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">4. Repeater控件的使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#"><span class="nav-text">总结</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" id="author-image" itemprop="image" alt="Rex_Surprise"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Rex_Surprise</p>
  <div class="site-description" itemprop="description">Rex_Surprise的个人博客~</div>
</div>
<!-- 自己写的js代码 BGDIN-->
<script type="text/javascript">
	window.onload=function () {
		var r = Math.random();
		var show = document.getElementById('author-image');
		var mfunc = function(){
			var sy = '#'+(Math.cos(r)*127+128<<16 | Math.cos(r + Math.PI/3)*127+128<<8 | Math.cos(r + Math.PI/3*2)*127+128).toString(16);
			r -= Math.PI / -50;
			if(sy.length == 6) return mfunc();
			show.style.background=sy;
		}
		setInterval(mfunc,50);
	}
</script>
<!-- 自己写的js代码 END-->
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">23</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/rexSurprise" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;rexSurprise" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/qq_44911239" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_44911239" rel="noopener" target="_blank"><i class="fab fa-stack-overflow fa-fw"></i>CSDN</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://fanyi.baidu.com/" title="http:&#x2F;&#x2F;fanyi.baidu.com" rel="noopener" target="_blank">百度翻译</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://39.97.126.84/" title="http:&#x2F;&#x2F;39.97.126.84" rel="noopener" target="_blank">我的小站</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://tools.kali.org/tools-listing" title="https:&#x2F;&#x2F;tools.kali.org&#x2F;tools-listing" rel="noopener" target="_blank">KaliTools</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Rex_Surprise</span>
    <span class="post-meta-divider"><br/></span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">140k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">2:07</span>
</div>



        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
	  <span>本站访问人数:</span>
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
		<span>本站访问次数:</span>
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="400" alpha="0.25" zIndex="-1" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-ribbon@1/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/lozad.js/1.14.0/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '5lI8es3hCNbfGw1bfoVdtl4Y-gzGzoHsz',
      appKey     : 'RB9CwHU5LBvHFAGzGa8M8fcO',
      placeholder: "谈谈你的看法(支持Markdown)",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '8' || 10,
      visitor    : true,
      lang       : 'zh-CN' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
